import{I as d,z as y,c as v,a as e,w as c,f as o,K as n,P as x,L as h,o as k}from"./CRPNSmKO.js";import{_ as w}from"./DlAUqK2U.js";const _={__name:"index",setup(S){const s=d({site_name:"",site_description:"",contact_email:"",contact_phone:"",address:""}),a=d({auto_confirm:"0",cancel_time:30,min_shipping_fee:2e4,free_shipping_threshold:5e5}),u=d({smtp_host:"",smtp_port:587,from_email:"",from_name:""}),r=d({session_timeout:120,max_login_attempts:5,lockout_duration:30,require_2fa:!1}),m=async()=>{try{const t=await(await fetch("/api/admin/settings")).json();t.success&&(s.value=t.data.general||{},a.value=t.data.order||{},u.value=t.data.email||{},r.value=t.data.security||{})}catch{}},p=async()=>{try{(await fetch("/api/admin/settings/general",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)})).ok&&alert("Cài đặt chung đã được lưu thành công!")}catch{}},g=async()=>{try{(await fetch("/api/admin/settings/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.value)})).ok&&alert("Cài đặt đơn hàng đã được lưu thành công!")}catch{}},b=async()=>{try{(await fetch("/api/admin/settings/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u.value)})).ok&&alert("Cài đặt email đã được lưu thành công!")}catch{}},f=async()=>{try{(await fetch("/api/admin/settings/security",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r.value)})).ok&&alert("Cài đặt bảo mật đã được lưu thành công!")}catch{}};return y(()=>{m()}),(i,t)=>(k(),v("div",{class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 p-6"},[e("h1",{class:"text-2xl font-bold mb-6"},"Cài đặt hệ thống"),e("div",{class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},[e("div",{class:"bg-white rounded-lg shadow-md p-6"},[e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Cài đặt chung"),e("form",{onSubmit:c(p,["prevent"])},[e("div",{class:"space-y-4"},[e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Tên website"),o(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.site_name=l),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s.value.site_name]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Mô tả website"),o(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.site_description=l),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s.value.site_description]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Email liên hệ"),o(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.contact_email=l),type:"email",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s.value.contact_email]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Số điện thoại"),o(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.contact_phone=l),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s.value.contact_phone]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Địa chỉ"),o(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>s.value.address=l),rows:"2",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,s.value.address]])]),e("button",{type:"submit",class:"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors"}," Lưu cài đặt chung ")])],32)]),e("div",{class:"bg-white rounded-lg shadow-md p-6"},[e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Cài đặt đơn hàng"),e("form",{onSubmit:c(g,["prevent"])},[e("div",{class:"space-y-4"},[e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Tự động xác nhận đơn hàng"),o(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>a.value.auto_confirm=l),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[e("option",{value:"1"},"Có"),e("option",{value:"0"},"Không")],512),[[x,a.value.auto_confirm]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Thời gian hủy đơn hàng (phút)"),o(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>a.value.cancel_time=l),type:"number",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,a.value.cancel_time]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Phí vận chuyển tối thiểu"),o(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>a.value.min_shipping_fee=l),type:"number",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,a.value.min_shipping_fee]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Miễn phí vận chuyển từ"),o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>a.value.free_shipping_threshold=l),type:"number",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,a.value.free_shipping_threshold]])]),e("button",{type:"submit",class:"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors"}," Lưu cài đặt đơn hàng ")])],32)]),e("div",{class:"bg-white rounded-lg shadow-md p-6"},[e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Cài đặt email"),e("form",{onSubmit:c(b,["prevent"])},[e("div",{class:"space-y-4"},[e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"SMTP Host"),o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>u.value.smtp_host=l),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,u.value.smtp_host]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"SMTP Port"),o(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>u.value.smtp_port=l),type:"number",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,u.value.smtp_port]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Email gửi"),o(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>u.value.from_email=l),type:"email",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,u.value.from_email]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Tên người gửi"),o(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>u.value.from_name=l),type:"text",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,u.value.from_name]])]),e("button",{type:"submit",class:"w-full bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors"}," Lưu cài đặt email ")])],32)]),e("div",{class:"bg-white rounded-lg shadow-md p-6"},[e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Bảo mật"),e("form",{onSubmit:c(f,["prevent"])},[e("div",{class:"space-y-4"},[e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Thời gian session (phút)"),o(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>r.value.session_timeout=l),type:"number",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,r.value.session_timeout]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Số lần đăng nhập sai tối đa"),o(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>r.value.max_login_attempts=l),type:"number",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,r.value.max_login_attempts]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Thời gian khóa tài khoản (phút)"),o(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>r.value.lockout_duration=l),type:"number",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[n,r.value.lockout_duration]])]),e("div",{class:"flex items-center"},[o(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>r.value.require_2fa=l),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[h,r.value.require_2fa]]),e("label",{class:"ml-2 block text-sm text-gray-900"}," Yêu cầu xác thực 2 yếu tố cho admin ")]),e("button",{type:"submit",class:"w-full bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors"}," Lưu cài đặt bảo mật ")])],32)])])]))}},U=w(_,[["__scopeId","data-v-17d9f443"]]);export{U as default};
