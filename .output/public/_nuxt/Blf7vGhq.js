import _ from"./C0ltwLUr.js";import{e as y}from"./B4pxijLT.js";import{g as C}from"./Bz77BRzt.js";import{M as b,I as i,N as k,O as w,c as E,b as O,e as B,o as l}from"./CRPNSmKO.js";import"./D3qKhv56.js";import"./DlAUqK2U.js";const N={__name:"create",props:{show:Boolean,onClose:Function},emits:["created"],setup(u,{emit:p}){const m=b(),a=u,f=p,n=i(!1),o=k({}),c=i({});w(()=>a.show,t=>{n.value=t,t&&(Object.keys(o).forEach(e=>delete o[e]),d())},{immediate:!0});function d(){const t=C("order_status");c.value=t.map(e=>({value:e.value,label:e.label}))}async function h(t){try{Object.keys(o).forEach(e=>delete o[e]),await m.post(y.orders.create,t),f("created"),a.onClose()}catch(e){if(e.response?.status===422&&e.response?.data?.errors){const r=e.response.data.errors;for(const s in r)Array.isArray(r[s])?o[s]=r[s][0]:o[s]=r[s]}}}function v(){a.onClose&&a.onClose()}return(t,e)=>(l(),E("div",null,[n.value?(l(),O(_,{key:0,show:n.value,"api-errors":o,"status-options":c.value,onSubmit:h,onCancel:v},null,8,["show","api-errors","status-options"])):B("",!0)]))}};export{N as default};
