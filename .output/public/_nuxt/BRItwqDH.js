import v from"./IZCx2fot.js";import{e as u}from"./B4pxijLT.js";import{u as w}from"./DlAtJ9EQ.js";import{a as y}from"./CaxYi4Fr.js";import{I as n,O as g,c as C,b as E,e as b,H as k,o as i}from"./CRPNSmKO.js";import"./D3qKhv56.js";import"./DlAUqK2U.js";import"./D_8RvcO3.js";import"./Dlbv5MmI.js";import"./BTrW77Yx.js";import"./DUQ0vjhe.js";const M={__name:"edit",props:{show:Boolean,user:Object,statusEnums:Array,genderEnums:Array,roleEnums:Array,onClose:Function},emits:["updated"],setup(t,{emit:m}){const s=t,l=m,o=n(!1),r=n(null),a=n(!1),{apiErrors:c,submit:d}=w({endpoint:u.users.update(s.user?.id),emit:l,onClose:s.onClose,eventName:"updated",method:"put"});g(()=>s.show,async e=>{o.value=e,e&&s.user?.id&&await p()},{immediate:!0});async function p(){try{a.value=!0;const e=await y.get(u.users.show(s.user.id));e.data.success&&(r.value=e.data.data)}catch{}finally{a.value=!1}}async function f(e){await d(e)}function h(){s.onClose&&s.onClose()}return(e,A)=>(i(),C("div",null,[o.value?(i(),E(v,{key:0,show:o.value,user:r.value,"status-enums":t.statusEnums,"gender-enums":t.genderEnums,"role-enums":t.roleEnums,"api-errors":k(c),loading:a.value,onSubmit:f,onCancel:h},null,8,["show","user","status-enums","gender-enums","role-enums","api-errors","loading"])):b("",!0)]))}};export{M as default};
