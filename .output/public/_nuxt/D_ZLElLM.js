import{G as m,z as h,W as f,O as g,b,o as a,d as B,i as x,c as d,e as p,a as e,t as C,r as y,k as M,T as E,l as L,a7 as T}from"./DDT-0HTi.js";import{_ as O}from"./DlAUqK2U.js";const V={__name:"CoreModal",props:{modelValue:{type:Boolean,default:!1},show:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"md",validator:s=>["sm","md","lg","xl","full"].includes(s)},closeOnBackdrop:{type:Boolean,default:!0},onClose:{type:Function,default:()=>{}},loading:{type:Boolean,default:!1}},emits:["update:modelValue","close"],setup(s,{emit:v}){const l=s,i=v,n=m(()=>l.modelValue||l.show),k=m(()=>{switch(l.size){case"sm":return"modal-sm";case"lg":return"modal-lg";case"xl":return"modal-xl";case"full":return"modal-full";default:return"modal-md"}});function r(){i("update:modelValue",!1),i("close"),typeof l.onClose=="function"&&l.onClose()}function w(){l.closeOnBackdrop&&r()}function c(o){o.key==="Escape"&&n.value&&r()}h(()=>{document.addEventListener("keydown",c)}),f(()=>{document.removeEventListener("keydown",c)});let u=0,t=!1;return g(n,o=>{o&&!t?(u=window.pageYOffset||document.documentElement.scrollTop,document.body.classList.add("modal-open"),t=!0):!o&&t&&(document.body.classList.remove("modal-open"),t=!1,T(()=>{window.scrollTo(0,u)}))},{immediate:!0}),f(()=>{document.removeEventListener("keydown",c),t&&(document.body.classList.remove("modal-open"),t=!1)}),(o,z)=>(a(),b(L,{to:"body"},[B(E,{name:"modal"},{default:x(()=>[n.value?(a(),d("div",{key:0,class:"modal-overlay"},[e("div",{class:"modal-backdrop",onClick:w}),e("div",{class:M(["modal-container",k.value])},[e("div",{class:"modal-header"},[e("h3",{class:"modal-title"},C(s.title||"Modal Title"),1),e("button",{type:"button",class:"modal-close",onClick:r},[(a(),d("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})]))])]),e("div",{class:"modal-body"},[s.loading?(a(),d("div",{key:0,class:"flex items-center justify-center py-8"},[e("div",{class:"flex flex-col items-center space-y-3"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e("p",{class:"text-gray-600 text-sm"},"Đang tải...")])])):(a(),d("div",{key:1},[y(o.$slots,"default",{},void 0,!0)]))]),o.$slots.footer?(a(),d("div",{key:0,class:"modal-footer"},[y(o.$slots,"footer",{},void 0,!0)])):p("",!0)],2)])):p("",!0)]),_:3})]))}},N=O(V,[["__scopeId","data-v-16c19d3d"]]);export{N as M};
