import d from"./CNwLqeg6.js";import{e as h}from"./B4pxijLT.js";import{M as C,I as _,N as w,O as y,c as k,b,e as v,o as c}from"./DDT-0HTi.js";import"./D_ZLElLM.js";import"./DlAUqK2U.js";import"./Bz77BRzt.js";const M={__name:"create",props:{show:Boolean,onClose:Function},emits:["created"],setup(i,{emit:l}){const p=C(),t=i,m=l,n=_(!1),o=w({});y(()=>t.show,r=>{n.value=r,r&&Object.keys(o).forEach(e=>delete o[e])},{immediate:!0});async function f(r){try{Object.keys(o).forEach(e=>delete o[e]),await p.post(h.warehouses.create,r),m("created"),t.onClose()}catch(e){if(e.response?.status===422&&e.response?.data?.errors){const a=e.response.data.errors;for(const s in a)Array.isArray(a[s])?o[s]=a[s][0]:o[s]=a[s]}}}function u(){t.onClose&&t.onClose()}return(r,e)=>(c(),k("div",null,[n.value?(c(),b(d,{key:0,show:n.value,"api-errors":o,onSubmit:f,onCancel:u},null,8,["show","api-errors"])):v("",!0)]))}};export{M as default};
