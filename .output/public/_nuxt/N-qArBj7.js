const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./bzRY1mFg.js","./CpCKfUBv.js","./D3qKhv56.js","./CRPNSmKO.js","./entry.DXI-NETG.css","./DlAUqK2U.js","./Modal.BJ6M6RCs.css","./D_8RvcO3.js","./Dlbv5MmI.js","./B4pxijLT.js","./Bz77BRzt.js","./DlAtJ9EQ.js","./DiO6wdpu.js","./CN59OvEn.js","./IGBFl809.js","./CONOwAJH.js"])))=>i.map(i=>d[i]);
import{I as x,z,c as r,a as t,d as k,e as o,b as f,H as n,F as C,g as E,t as i,o as s,Q as y,k as V,_ as b}from"./CRPNSmKO.js";import{u as Q,S as X,a as q}from"./C4jMsr2g.js";import{_ as J}from"./BN8nsbAe.js";import{_ as W}from"./D2JkzBjR.js";import{a as Y}from"./Bz77BRzt.js";import{e as Z}from"./B4pxijLT.js";import"./DlAUqK2U.js";import"./D3qKhv56.js";const ct={__name:"index",setup(tt){const A=y(()=>b(()=>import("./bzRY1mFg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url)),D=y(()=>b(()=>import("./DiO6wdpu.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10]),import.meta.url)),M=y(()=>b(()=>import("./CN59OvEn.js"),__vite__mapDeps([13,3,4,14,15,10]),import.meta.url)),{items:u,loading:L,pagination:c,filters:T,fetchData:d,updateFilters:F,deleteItem:I}=Q(Z.attributeValues.list,{defaultFilters:{search:"",status:"",sort_by:"created_at_desc"}}),{showSuccess:g,showError:P}=q(),l=x(null),p=x(!1),m=x(!1),h=x(!1);z(async()=>{await d(),console.log("Attribute values data:",u.value)});function S(a){F(a)}function B(){p.value=!0}function w(){p.value=!1}function H(a){l.value=a,m.value=!0}function v(){m.value=!1,l.value=null}function O(a){l.value=a,h.value=!0}function _(){h.value=!1,l.value=null}async function j(){await d(),w(),g("Giá trị thuộc tính đã được tạo thành công")}async function G(){await d(),v(),g("Giá trị thuộc tính đã được cập nhật thành công")}async function N(){try{await I(l.value.id),_(),g("Giá trị thuộc tính đã được xóa thành công")}catch{P("Không thể xóa giá trị thuộc tính")}}function R(a){if(!a)return;const e=new URL(a).searchParams.get("page");d({page:e})}function U(a){return Y("basic_status",a)||a||"Không xác định"}function $(a){return a==="active"?"bg-green-100 text-green-800":a==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}return(a,K)=>(s(),r("div",{class:"container mx-auto p-4"},[t("div",{class:"flex justify-between items-center mb-6"},[t("h1",{class:"text-2xl font-bold"},"Quản lý giá trị thuộc tính"),t("button",{onClick:B,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"}," Thêm giá trị ")]),k(n(M),{"initial-filters":n(T),"onUpdate:filters":S},null,8,["initial-filters"]),t("div",{class:"bg-white shadow-md rounded-lg overflow-hidden"},[n(L)?(s(),f(X,{key:0,type:"table",rows:5,columns:5})):(s(),r("table",{key:1,class:"min-w-full divide-y divide-gray-200"},[t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Giá trị"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Hiển thị"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Trạng thái"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Thao tác")])]),t("tbody",{class:"bg-white divide-y divide-gray-200"},[(s(!0),r(C,null,E(n(u),e=>(s(),r("tr",{key:e.id},[t("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},i(e.id),1),t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},i(e.value||e.attribute_value||e.attribute_value_name||"N/A"),1),t("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},i(e.name),1),t("td",{class:"px-6 py-4 whitespace-nowrap"},[t("span",{class:V(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",$(e.status)])},i(U(e.status)),3)]),t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},[k(W,{item:e,onEdit:H,onDelete:O},null,8,["item"])])]))),128)),n(u).length===0?(s(),r("tr",{key:0},[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," Không có dữ liệu ")])):o("",!0)])]))]),n(u).length>0?(s(),r("div",{key:0,class:"mt-4 flex justify-between items-center"},[t("div",{class:"text-sm text-gray-700"}," Hiển thị "+i(n(c).from||0)+" đến "+i(n(c).to||0)+" trên tổng số "+i(n(c).total||0)+" bản ghi ",1),t("div",{class:"flex space-x-1"},[(s(!0),r(C,null,E(n(c).links,e=>(s(),r("button",{key:e.label,onClick:et=>R(e.url),disabled:!e.url,class:V(["px-3 py-1 border rounded",e.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50",!e.url&&"opacity-50 cursor-not-allowed"]),innerHTML:e.label},null,10,["onClick","disabled","innerHTML"]))),128))])])):o("",!0),p.value?(s(),f(n(A),{key:1,show:p.value,"on-close":w,onCreated:j},null,8,["show"])):o("",!0),m.value?(s(),f(n(D),{key:2,show:m.value,"attribute-value":l.value,"on-close":v,onUpdated:G},null,8,["show","attribute-value"])):o("",!0),h.value?(s(),f(J,{key:3,show:h.value,title:"Xác nhận xóa",message:`Bạn có chắc chắn muốn xóa giá trị ${l.value?.value||""}?`,"on-close":_,onConfirm:N},null,8,["show","message"])):o("",!0)]))}};export{ct as default};
