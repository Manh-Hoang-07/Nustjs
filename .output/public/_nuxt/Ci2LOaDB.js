import f from"./exfSo9V_.js";import{e as d}from"./B4pxijLT.js";import{a as h}from"./Bj1hfyy3.js";import{I as y,N as w,O as C,c as k,b as v,e as b,o as i}from"./DDT-0HTi.js";import"./D_ZLElLM.js";import"./DlAUqK2U.js";import"./BOPsCARg.js";import"./yLpPWoGU.js";const S={__name:"create",props:{show:Boolean,products:{type:Array,default:()=>[]},warehouses:{type:Array,default:()=>[]},onClose:Function},emits:["created"],setup(n,{emit:l}){const t=n,p=l,c=y(!1),o=w({});C(()=>t.show,r=>{c.value=r,r&&Object.keys(o).forEach(e=>delete o[e])},{immediate:!0});async function u(r){try{Object.keys(o).forEach(e=>delete o[e]),await h.post(d.inventory.create,r),p("created"),t.onClose()}catch(e){if(e.response?.status===422&&e.response?.data?.errors){const a=e.response.data.errors;for(const s in a)Array.isArray(a[s])?o[s]=a[s][0]:o[s]=a[s]}}}function m(){t.onClose&&t.onClose()}return(r,e)=>(i(),k("div",null,[c.value?(i(),v(f,{key:0,show:c.value,"api-errors":o,products:n.products,warehouses:n.warehouses,onSubmit:u,onCancel:m},null,8,["show","api-errors","products","warehouses"])):b("",!0)]))}};export{S as default};
