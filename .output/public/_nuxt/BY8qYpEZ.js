const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CUrnHSEm.js","./CMThd5cn.js","./CRPNSmKO.js","./entry.DXI-NETG.css","./D3qKhv56.js","./DlAUqK2U.js","./Modal.BJ6M6RCs.css","./Bz77BRzt.js","./B4pxijLT.js","./BLH-v49_.js","./L_x0nEDo.js","./IGBFl809.js","./CONOwAJH.js"])))=>i.map(i=>d[i]);
import{I as m,z,c as l,a as e,d as k,e as i,b as h,H as s,F as C,g as E,t as n,o as r,Q as y,k as T,_ as w}from"./CRPNSmKO.js";import{u as Q,S as X,a as q}from"./C4jMsr2g.js";import{_ as G}from"./BN8nsbAe.js";import{_ as J}from"./D2JkzBjR.js";import{a as Y}from"./Bz77BRzt.js";import{e as Z}from"./B4pxijLT.js";import{f as ee}from"./-we3hgSr.js";import{_ as te}from"./DlAUqK2U.js";import"./D3qKhv56.js";const ae={__name:"index",setup(se){const D=y(()=>w(()=>import("./CUrnHSEm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)),M=y(()=>w(()=>import("./BLH-v49_.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,8]),import.meta.url)),L=y(()=>w(()=>import("./L_x0nEDo.js"),__vite__mapDeps([10,2,3,11,12,7]),import.meta.url)),{items:f,loading:I,pagination:c,filters:S,fetchData:u,updateFilters:W,deleteItem:F}=Q(Z.warehouses.list,{defaultFilters:{search:"",status:"",sort_by:"created_at_desc"}}),{showSuccess:g,showError:K}=q(),o=m(null),d=m(!1),p=m(!1),x=m(!1);z(async()=>{await u()});function P(a){W(a)}function V(){d.value=!0}function v(){d.value=!1}function B(a){o.value=a,p.value=!0}function _(){p.value=!1,o.value=null}function O(a){o.value=a,x.value=!0}function b(){x.value=!1,o.value=null}async function j(){await u(),v(),g("Kho hàng đã được tạo thành công")}async function A(){await u(),_(),g("Kho hàng đã được cập nhật thành công")}async function H(){try{await F(o.value.id),b(),g("Kho hàng đã được xóa thành công")}catch{K("Không thể xóa kho hàng")}}function N(a){if(!a)return;const t=new URL(a).searchParams.get("page");u({page:t})}function R(a){return Y("basic_status",a)||a||"Không xác định"}function U(a){return a==="active"?"bg-green-100 text-green-800":a==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}return(a,$)=>(r(),l("div",{class:"container mx-auto p-4"},[e("div",{class:"flex justify-between items-center mb-6"},[e("h1",{class:"text-2xl font-bold"},"Quản lý kho hàng"),e("button",{onClick:V,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"}," Thêm kho hàng mới ")]),k(s(L),{"initial-filters":s(S),"onUpdate:filters":P},null,8,["initial-filters"]),e("div",{class:"bg-white shadow-md rounded-lg overflow-hidden"},[s(I)?(r(),h(X,{key:0,type:"table",rows:5,columns:10})):(r(),l("table",{key:1,class:"min-w-full divide-y divide-gray-200"},[e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tên kho"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Địa chỉ"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Thành phố"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tỉnh/Thành"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Số điện thoại"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Email"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Trạng thái"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ngày tạo"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Thao tác")])]),e("tbody",{class:"bg-white divide-y divide-gray-200"},[(r(!0),l(C,null,E(s(f),t=>(r(),l("tr",{key:t.id},[e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n(t.id),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},n(t.name),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n(t.address),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n(t.city),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n(t.province),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n(t.phone),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n(t.email),1),e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("span",{class:T(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",U(t.status)])},n(R(t.status)),3)]),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n(s(ee)(t.created_at)),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},[k(J,{item:t,onEdit:B,onDelete:O},null,8,["item"])])]))),128)),s(f).length===0?(r(),l("tr",{key:0},[e("td",{colspan:"10",class:"px-6 py-4 text-center text-gray-500"}," Không có dữ liệu ")])):i("",!0)])]))]),s(f).length>0?(r(),l("div",{key:0,class:"mt-4 flex justify-between items-center"},[e("div",{class:"text-sm text-gray-700"}," Hiển thị "+n(s(c).from||0)+" đến "+n(s(c).to||0)+" trên tổng số "+n(s(c).total||0)+" bản ghi ",1),e("div",{class:"flex space-x-1"},[(r(!0),l(C,null,E(s(c).links,t=>(r(),l("button",{key:t.label,onClick:ne=>N(t.url),disabled:!t.url,class:T(["px-3 py-1 border rounded",t.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50",!t.url&&"opacity-50 cursor-not-allowed"]),innerHTML:t.label},null,10,["onClick","disabled","innerHTML"]))),128))])])):i("",!0),d.value?(r(),h(s(D),{key:1,show:d.value,"on-close":v,onCreated:j},null,8,["show"])):i("",!0),p.value?(r(),h(s(M),{key:2,show:p.value,warehouse:o.value,"on-close":_,onUpdated:A},null,8,["show","warehouse"])):i("",!0),x.value?(r(),h(G,{key:3,show:x.value,title:"Xác nhận xóa",message:`Bạn có chắc chắn muốn xóa kho hàng ${o.value?.name||""}?`,"on-close":b,onConfirm:H},null,8,["show","message"])):i("",!0)]))}},me=te(ae,[["__scopeId","data-v-e03ece4b"]]);export{me as default};
