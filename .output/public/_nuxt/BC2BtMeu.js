import{I as x,G as u,O as T,z as w,c as k,a as d,d as o,H as A,w as O,o as S}from"./DDT-0HTi.js";import{_ as n}from"./Bj7Ql7Qk.js";import{d as U}from"./CONOwAJH.js";import{g as i}from"./Bz77BRzt.js";const D={__name:"filter",props:{initialFilters:{type:Object,default:()=>({})},warehouses:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]}},emits:["update:filters"],setup(p,{emit:c}){const s=p,m=c,a=x({search:"",warehouse_id:"",brand_id:"",category_id:"",stock_status:"",expiry_status:"",sort_by:"updated_at_desc",...s.initialFilters}),b=u(()=>[{value:"",label:"Tất cả kho hàng"},...s.warehouses.map(t=>({value:t.id,label:t.name}))]),v=u(()=>[{value:"",label:"Tất cả thương hiệu"},...s.brands.map(t=>({value:t.id,label:t.name}))]),h=u(()=>[{value:"",label:"Tất cả danh mục"},...s.categories.map(t=>({value:t.id,label:t.name}))]),g=u(()=>{const t=i("stock_status"),e=[{value:"",label:"Tất cả trạng thái"}];return Array.isArray(t)&&e.push(...t.map(l=>({value:l.value,label:l.label}))),e}),_=u(()=>{const t=i("expiry_status"),e=[{value:"",label:"Tất cả hạn sử dụng"}];return Array.isArray(t)&&e.push(...t.map(l=>({value:l.value,label:l.label}))),e}),y=[{value:"updated_at_desc",label:"Cập nhật gần nhất"},{value:"updated_at_asc",label:"Cập nhật xa nhất"},{value:"available_quantity_desc",label:"Số lượng giảm dần"},{value:"available_quantity_asc",label:"Số lượng tăng dần"},{value:"expiry_date_asc",label:"Hạn sử dụng gần nhất"},{value:"expiry_date_desc",label:"Hạn sử dụng xa nhất"},{value:"product_name_asc",label:"Tên sản phẩm A-Z"},{value:"product_name_desc",label:"Tên sản phẩm Z-A"}],f=U(()=>{r()},300);function r(){const t={};Object.keys(a.value).forEach(e=>{a.value[e]!==""&&a.value[e]!==null&&a.value[e]!==void 0&&(t[e]=a.value[e])}),m("update:filters",t)}function V(){a.value={search:"",warehouse_id:"",brand_id:"",category_id:"",stock_status:"",expiry_status:"",sort_by:"updated_at_desc"},r()}return T(()=>s.initialFilters,t=>{a.value={...a.value,...t}},{deep:!0}),w(()=>{s.warehouses.length===0||s.brands.length===0||s.categories.length}),(t,e)=>(S(),k("div",{class:"bg-white p-4 rounded-lg shadow mb-6"},[d("form",{onSubmit:O(r,["prevent"])},[d("div",{class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4"},[o(n,{id:"search",label:"Tìm kiếm",type:"text",modelValue:a.value.search,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.search=l),placeholder:"Tên sản phẩm, mã sản phẩm...",onInput:A(f)},null,8,["modelValue","onInput"]),o(n,{id:"warehouse_id",label:"Kho hàng",type:"select",modelValue:a.value.warehouse_id,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.warehouse_id=l),placeholder:"Tất cả kho hàng",options:b.value},null,8,["modelValue","options"]),o(n,{id:"brand_id",label:"Thương hiệu",type:"select",modelValue:a.value.brand_id,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.brand_id=l),placeholder:"Tất cả thương hiệu",options:v.value},null,8,["modelValue","options"]),o(n,{id:"category_id",label:"Danh mục",type:"select",modelValue:a.value.category_id,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.category_id=l),placeholder:"Tất cả danh mục",options:h.value},null,8,["modelValue","options"]),o(n,{id:"stock_status",label:"Trạng thái tồn kho",type:"select",modelValue:a.value.stock_status,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.stock_status=l),placeholder:"Tất cả trạng thái",options:g.value},null,8,["modelValue","options"]),o(n,{id:"expiry_status",label:"Hạn sử dụng",type:"select",modelValue:a.value.expiry_status,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.expiry_status=l),placeholder:"Tất cả hạn sử dụng",options:_.value},null,8,["modelValue","options"]),o(n,{id:"sort_by",label:"Sắp xếp theo",type:"select",modelValue:a.value.sort_by,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.sort_by=l),options:y},null,8,["modelValue"]),d("div",{class:"flex items-end space-x-2"},[d("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"}," Lọc "),d("button",{type:"button",onClick:V,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none"}," Đặt lại ")])])],32)]))}};export{D as default};
