import{I as d,z as D,c,a as e,e as B,f as r,K as g,P as p,F as M,g as N,t as o,w as U,o as x,k as j,d as C}from"./CRPNSmKO.js";import{_ as P}from"./D2JkzBjR.js";import{_ as S}from"./DlAUqK2U.js";const I={__name:"index",setup(A){const s=d([]),m=d(!1),i=d(!1),v=d(null),u=d({search:"",status:"",category:""}),n=d({title:"",excerpt:"",content:"",category:"news",status:"draft"}),f=async()=>{try{s.value=[{id:1,title:"Hướng dẫn sử dụng Laravel với Vue.js",excerpt:"Bài viết hướng dẫn cách tích hợp Laravel backend với Vue.js frontend...",content:"Nội dung chi tiết...",category:"tutorial",status:"published",author:{name:"Admin"},created_at:"2024-01-15"},{id:2,title:"Tin tức công nghệ mới nhất",excerpt:"Cập nhật những tin tức công nghệ mới nhất trong tuần...",content:"Nội dung chi tiết...",category:"news",status:"published",author:{name:"Admin"},created_at:"2024-01-14"}]}catch{}},y=l=>{v.value=l,n.value={...l},i.value=!0},h=async()=>{try{if(i.value){const l=s.value.findIndex(a=>a.id===v.value.id);l>-1&&(s.value[l]={...s.value[l],...n.value})}else{const l={id:Date.now(),...n.value,author:{name:"Admin"},created_at:new Date().toISOString().split("T")[0]};s.value.unshift(l)}b()}catch{}},w=async l=>{if(confirm("Bạn có chắc chắn muốn xóa bài đăng này?"))try{const a=s.value.findIndex(t=>t.id===l);a>-1&&s.value.splice(a,1)}catch{}},b=()=>{m.value=!1,i.value=!1,v.value=null,n.value={title:"",excerpt:"",content:"",category:"news",status:"draft"}},k=l=>({published:"Đã xuất bản",draft:"Bản nháp",archived:"Đã lưu trữ"})[l]||l,T=l=>new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(l));return D(()=>{f()}),(l,a)=>(x(),c("div",{class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 p-6"},[e("div",{class:"flex justify-between items-center mb-6"},[e("h1",{class:"text-2xl font-bold"},"Quản lý bài đăng"),e("button",{onClick:a[0]||(a[0]=t=>m.value=!0),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors"}," Thêm bài đăng ")]),e("div",{class:"bg-white p-4 rounded-lg shadow mb-6"},[e("div",{class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[r(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>u.value.search=t),type:"text",placeholder:"Tìm kiếm bài đăng...",class:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,u.value.search]]),r(e("select",{"onUpdate:modelValue":a[2]||(a[2]=t=>u.value.status=t),class:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[e("option",{value:""},"Tất cả trạng thái"),e("option",{value:"published"},"Đã xuất bản"),e("option",{value:"draft"},"Bản nháp"),e("option",{value:"archived"},"Đã lưu trữ")],512),[[p,u.value.status]]),r(e("select",{"onUpdate:modelValue":a[3]||(a[3]=t=>u.value.category=t),class:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[e("option",{value:""},"Tất cả danh mục"),e("option",{value:"news"},"Tin tức"),e("option",{value:"tutorial"},"Hướng dẫn"),e("option",{value:"review"},"Đánh giá")],512),[[p,u.value.category]]),e("button",{onClick:f,class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors"}," Lọc ")])]),e("div",{class:"bg-white rounded-lg shadow overflow-hidden"},[e("div",{class:"overflow-x-auto"},[e("table",{class:"min-w-full divide-y divide-gray-200"},[e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Bài đăng"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tác giả"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Danh mục"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Trạng thái"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ngày tạo"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Thao tác")])]),e("tbody",{class:"bg-white divide-y divide-gray-200"},[(x(!0),c(M,null,N(s.value,t=>(x(),c("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("div",{class:"flex items-center"},[e("div",{class:"flex-shrink-0 h-10 w-10"},[e("img",{src:t.featured_image||"/placeholder.jpg",alt:t.title,class:"h-10 w-10 rounded-lg object-cover"},null,8,["src","alt"])]),e("div",{class:"ml-4"},[e("div",{class:"text-sm font-medium text-gray-900"},o(t.title),1),e("div",{class:"text-sm text-gray-500"},o(t.excerpt),1)])])]),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},o(t.author?.name||"Admin"),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},o(t.category),1),e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("span",{class:j({"px-2 inline-flex text-xs leading-5 font-semibold rounded-full":!0,"bg-green-100 text-green-800":t.status==="published","bg-yellow-100 text-yellow-800":t.status==="draft","bg-gray-100 text-gray-800":t.status==="archived"})},o(k(t.status)),3)]),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},o(T(t.created_at)),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},[C(P,{item:t,onEdit:y,onDelete:a[4]||(a[4]=V=>w(V.id))},null,8,["item"])])]))),128))])])])]),m.value||i.value?(x(),c("div",{key:0,class:"fixed inset-0 flex items-center justify-center"},[e("div",{class:"fixed inset-0 z-40 bg-white bg-opacity-10 backdrop-blur-md"}),e("div",{class:"relative z-50 bg-white rounded-lg shadow-lg p-8 w-full max-w-md"},[e("div",{class:"mt-3"},[e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},o(i.value?"Sửa bài đăng":"Thêm bài đăng"),1),e("form",{onSubmit:U(h,["prevent"])},[e("div",{class:"space-y-4"},[e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Tiêu đề"),r(e("input",{"onUpdate:modelValue":a[5]||(a[5]=t=>n.value.title=t),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,n.value.title]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Tóm tắt"),r(e("textarea",{"onUpdate:modelValue":a[6]||(a[6]=t=>n.value.excerpt=t),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,n.value.excerpt]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Nội dung"),r(e("textarea",{"onUpdate:modelValue":a[7]||(a[7]=t=>n.value.content=t),rows:"6",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,n.value.content]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Danh mục"),r(e("select",{"onUpdate:modelValue":a[8]||(a[8]=t=>n.value.category=t),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[e("option",{value:"news"},"Tin tức"),e("option",{value:"tutorial"},"Hướng dẫn"),e("option",{value:"review"},"Đánh giá")],512),[[p,n.value.category]])]),e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"},"Trạng thái"),r(e("select",{"onUpdate:modelValue":a[9]||(a[9]=t=>n.value.status=t),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[e("option",{value:"draft"},"Bản nháp"),e("option",{value:"published"},"Xuất bản"),e("option",{value:"archived"},"Lưu trữ")],512),[[p,n.value.status]])])]),e("div",{class:"flex justify-end space-x-3 mt-6"},[e("button",{type:"button",onClick:b,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Hủy "),e("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},o(i.value?"Cập nhật":"Thêm"),1)])],32)])])])):B("",!0)]))}},E=S(I,[["__scopeId","data-v-1c24a081"]]);export{E as default};
