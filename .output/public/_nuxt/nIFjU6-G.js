import{M as x,N as w,I as p,z as F,c as O,a as o,d as n,H as U,w as k,o as B}from"./CRPNSmKO.js";import{_ as i}from"./IGBFl809.js";import{e as m}from"./B4pxijLT.js";import{d as C}from"./CONOwAJH.js";const I={__name:"filter",props:{initialFilters:{type:Object,default:()=>({})}},emits:["update:filters"],setup(b,{emit:g}){const c=x(),s=b,r=g,e=w({search:s.initialFilters.search||"",status:s.initialFilters.status||"",brand_id:s.initialFilters.brand_id||"",category_id:s.initialFilters.category_id||"",sort_by:s.initialFilters.sort_by||"created_at_desc"}),h=C(()=>{r("update:filters",{...e})},300),y=[{value:"active",label:"Đang bán"},{value:"inactive",label:"Ngừng bán"}],d=p([]),u=p([]),v=[{value:"created_at_desc",label:"Mới nhất"},{value:"created_at_asc",label:"Cũ nhất"},{value:"name_asc",label:"Tên (A-Z)"},{value:"name_desc",label:"Tên (Z-A)"},{value:"price_asc",label:"Giá tăng dần"},{value:"price_desc",label:"Giá giảm dần"}];F(async()=>{await Promise.all([f(),_()])});async function f(){try{const l=await c.get(m.brands.list);d.value=[{value:"",label:"Tất cả thương hiệu"},...(l.data.data||[]).map(t=>({value:t.id,label:t.name}))]}catch{d.value=[{value:"",label:"Tất cả thương hiệu"}]}}async function _(){try{const l=await c.get(m.categories.list);u.value=[{value:"",label:"Tất cả danh mục"},...(l.data.data||[]).map(t=>({value:t.id,label:t.name}))]}catch{u.value=[{value:"",label:"Tất cả danh mục"}]}}function V(){r("update:filters",{...e})}function T(){Object.keys(e).forEach(l=>{e[l]=""}),e.sort_by="created_at_desc",r("update:filters",{...e})}return(l,t)=>(B(),O("div",{class:"bg-white p-4 rounded-lg shadow mb-6"},[o("form",{onSubmit:k(V,["prevent"])},[o("div",{class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4"},[n(i,{id:"search",label:"Tìm kiếm",type:"text",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=a=>e.search=a),placeholder:"Tìm theo tên sản phẩm, mô tả, SKU",onInput:U(h)},null,8,["modelValue","onInput"]),n(i,{id:"status",label:"Trạng thái",type:"select",modelValue:e.status,"onUpdate:modelValue":t[1]||(t[1]=a=>e.status=a),placeholder:"Tất cả trạng thái",options:y},null,8,["modelValue"]),n(i,{id:"brand_id",label:"Thương hiệu",type:"select",modelValue:e.brand_id,"onUpdate:modelValue":t[2]||(t[2]=a=>e.brand_id=a),placeholder:"Tất cả thương hiệu",options:d.value},null,8,["modelValue","options"]),n(i,{id:"category_id",label:"Danh mục",type:"select",modelValue:e.category_id,"onUpdate:modelValue":t[3]||(t[3]=a=>e.category_id=a),placeholder:"Tất cả danh mục",options:u.value},null,8,["modelValue","options"]),n(i,{id:"sort_by",label:"Sắp xếp theo",type:"select",modelValue:e.sort_by,"onUpdate:modelValue":t[4]||(t[4]=a=>e.sort_by=a),options:v},null,8,["modelValue"]),o("div",{class:"flex items-end space-x-2"},[o("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"}," Lọc "),o("button",{type:"button",onClick:T,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none"}," Đặt lại ")])])],32)]))}};export{I as default};
