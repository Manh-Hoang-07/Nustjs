import v from"./uGLxF0GB.js";import{e as _}from"./B4pxijLT.js";import{a as y}from"./CaxYi4Fr.js";import{g as b}from"./Bz77BRzt.js";import{I as i,N as C,O as k,c as w,b as E,e as O,o as p}from"./CRPNSmKO.js";import"./D3qKhv56.js";import"./DlAUqK2U.js";import"./D_8RvcO3.js";import"./Dlbv5MmI.js";import"./CONOwAJH.js";import"./BTrW77Yx.js";const $={__name:"create",props:{show:Boolean,onClose:Function},emits:["created"],setup(l,{emit:m}){const r=l,u=m,n=i(!1),o=C({}),c=i({});k(()=>r.show,t=>{n.value=t,t&&(Object.keys(o).forEach(e=>delete o[e]),f())},{immediate:!0});function f(){const t=b("product_status");c.value=t.map(e=>({value:e.value,label:e.label}))}async function d(t){try{Object.keys(o).forEach(e=>delete o[e]),await y.post(_.products.create,t),u("created"),r.onClose()}catch(e){if(e.response?.status===422&&e.response?.data?.errors){const a=e.response.data.errors;for(const s in a)Array.isArray(a[s])?o[s]=a[s][0]:o[s]=a[s]}}}function h(){r.onClose&&r.onClose()}return(t,e)=>(p(),w("div",null,[n.value?(p(),E(v,{key:0,show:n.value,"api-errors":o,"status-options":c.value,onSubmit:d,onCancel:h},null,8,["show","api-errors","status-options"])):O("",!0)]))}};export{$ as default};
