import{M as x}from"./D3qKhv56.js";import{_ as k}from"./D_8RvcO3.js";import{_ as n}from"./Dlbv5MmI.js";import{G as i,b as q,i as b,o as y,d as l}from"./CRPNSmKO.js";import"./DlAUqK2U.js";const S={__name:"form",props:{show:Boolean,attributeValue:Object,attributeOptions:{type:Array,default:()=>[]},statusEnums:{type:Array,default:()=>[]},apiErrors:{type:Object,default:()=>({})}},emits:["submit","cancel"],setup(s,{emit:V}){const r=s,m=V,h=i(()=>r.attributeValue?"Chỉnh sửa giá trị thuộc tính":"Thêm giá trị thuộc tính mới"),p=i({get:()=>r.show,set:()=>c()}),v=i(()=>{const t=r.attributeValue||{};return{attribute_id:t.attribute_id?String(t.attribute_id):"",value:t.value||"",name:t.name||"",sort_order:t.sort_order||0,description:t.description||"",status:t.status||""}}),_=i(()=>({attribute_id:[{required:"Vui lòng chọn thuộc tính."}],value:[{required:"Giá trị không được để trống."},{max:[100,"Giá trị không được vượt quá 100 ký tự."]}],name:[{max:[255,"Tên không được vượt quá 255 ký tự."]}],sort_order:[{required:"Thứ tự sắp xếp không được để trống."},{min:[0,"Thứ tự sắp xếp phải lớn hơn hoặc bằng 0."]}],description:[{max:[255,"Mô tả không được vượt quá 255 ký tự."]}]})),f=i(()=>(r.statusEnums||[]).map(t=>({value:t.value,label:t.label}))),g=i(()=>(r.attributeOptions||[]).map(t=>({value:t.id,label:t.name})));function U(t){m("submit",t)}function c(){m("cancel")}return(t,d)=>(y(),q(x,{modelValue:p.value,"onUpdate:modelValue":d[0]||(d[0]=a=>p.value=a),title:h.value},{default:b(()=>[l(k,{"default-values":v.value,rules:_.value,"api-errors":s.apiErrors,"submit-text":s.attributeValue?"Cập nhật":"Thêm mới",onSubmit:U,onCancel:c},{default:b(({form:a,errors:u,clearError:o,isSubmitting:T})=>[l(n,{modelValue:a.attribute_id,"onUpdate:modelValue":[e=>a.attribute_id=e,e=>o("attribute_id")],label:"Thuộc tính",name:"attribute_id",type:"select",options:g.value,error:u.attribute_id,required:""},null,8,["modelValue","onUpdate:modelValue","options","error"]),l(n,{modelValue:a.value,"onUpdate:modelValue":[e=>a.value=e,e=>o("value")],label:"Giá trị",name:"value",error:u.value,required:"",autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),l(n,{modelValue:a.name,"onUpdate:modelValue":[e=>a.name=e,e=>o("name")],label:"Hiển thị",name:"name",error:u.name,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),l(n,{modelValue:a.sort_order,"onUpdate:modelValue":[e=>a.sort_order=e,e=>o("sort_order")],label:"Thứ tự",name:"sort_order",type:"number",error:u.sort_order,required:""},null,8,["modelValue","onUpdate:modelValue","error"]),l(n,{modelValue:a.description,"onUpdate:modelValue":[e=>a.description=e,e=>o("description")],label:"Mô tả",name:"description",type:"textarea",error:u.description,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),l(n,{modelValue:a.status,"onUpdate:modelValue":[e=>a.status=e,e=>o("status")],label:"Trạng thái",name:"status",type:"select",options:f.value,error:u.status},null,8,["modelValue","onUpdate:modelValue","options","error"])]),_:1},8,["default-values","rules","api-errors","submit-text"])]),_:1},8,["modelValue","title"]))}};export{S as default};
