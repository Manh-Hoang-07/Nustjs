import y from"./CK1gEuMu.js";import{e as r}from"./B4pxijLT.js";import{g as C}from"./Bz77BRzt.js";import{u as w}from"./DlAtJ9EQ.js";import{M as b,I as n,O as E,c as S,b as g,e as k,H as A,o as i}from"./CRPNSmKO.js";import"./D3qKhv56.js";import"./DlAUqK2U.js";import"./D_8RvcO3.js";import"./Dlbv5MmI.js";import"./DSJ9rbdv.js";const j={__name:"create",props:{show:Boolean,onClose:Function},emits:["created"],setup(c,{emit:m}){const p=b(),e=c,u=m,o=n(!1),s=n([]),a=n([]),{apiErrors:l,submit:f}=w({endpoint:r.permissions.create,emit:u,onClose:e.onClose,eventName:"created",method:"post"});E(()=>e.show,t=>{o.value=t,t&&(d(),h())},{immediate:!0});async function d(){try{const t=C("basic_status");s.value=Array.isArray(t)?t:[]}catch{s.value=[]}}async function h(){try{const t=await p.get(r.permissions.list,{params:{per_page:100,relations:"parent"}});a.value=t.data.data||[]}catch{a.value=[]}}async function v(t){await f(t)}function _(){e.onClose&&e.onClose()}return(t,B)=>(i(),S("div",null,[o.value?(i(),g(y,{key:0,show:o.value,"parent-options":a.value,"status-enums":s.value,"api-errors":A(l),onSubmit:v,onCancel:_},null,8,["show","parent-options","status-enums","api-errors"])):k("",!0)]))}};export{j as default};
