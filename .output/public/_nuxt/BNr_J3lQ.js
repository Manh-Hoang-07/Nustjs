import{M as x}from"./D_ZLElLM.js";import{_ as g}from"./BOPsCARg.js";import{_ as i}from"./yLpPWoGU.js";import{u as k}from"./DCKoXk_D.js";import{G as s,b as $,i as b,o as C,d as l,H as T,a as V}from"./DDT-0HTi.js";import"./DlAUqK2U.js";const D={__name:"form",props:{show:Boolean,attribute:Object,statusEnums:{type:Array,default:()=>[]},apiErrors:{type:Object,default:()=>({})}},emits:["submit","cancel"],setup(d,{emit:h}){const n=d,m=h,_=s(()=>n.attribute?"Chỉnh sửa thuộc tính":"Thêm thuộc tính mới"),r=s({get:()=>n.show,set:()=>p()}),v=k(n,"attribute",{name:"",type:"",description:"",is_required:!1,is_unique:!1,is_filterable:!0,is_searchable:!0,status:""}),f=s(()=>({name:[{required:"Tên thuộc tính là bắt buộc."},{max:[100,"Tên thuộc tính không được vượt quá 100 ký tự."]}],type:[{required:"Kiểu thuộc tính là bắt buộc."}],description:[{max:[255,"Mô tả không được vượt quá 255 ký tự."]}]})),y=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"select",label:"Select"},{value:"color",label:"Color"}],q=s(()=>(n.statusEnums||[]).map(o=>({value:o.value,label:o.label})));function U(o){m("submit",o)}function p(){m("cancel")}return(o,c)=>(C(),$(x,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=t=>r.value=t),title:_.value},{default:b(()=>[l(g,{"default-values":T(v),rules:f.value,"api-errors":d.apiErrors,"submit-text":d.attribute?"Cập nhật":"Thêm mới",onSubmit:U,onCancel:p},{default:b(({form:t,errors:a,clearError:u,isSubmitting:B})=>[l(i,{modelValue:t.name,"onUpdate:modelValue":[e=>t.name=e,e=>u("name")],label:"Tên thuộc tính",name:"name",error:a.name,required:"",autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),l(i,{modelValue:t.type,"onUpdate:modelValue":[e=>t.type=e,e=>u("type")],label:"Kiểu thuộc tính",name:"type",type:"select",options:y,error:a.type,required:""},null,8,["modelValue","onUpdate:modelValue","error"]),l(i,{modelValue:t.description,"onUpdate:modelValue":[e=>t.description=e,e=>u("description")],label:"Mô tả",name:"description",type:"textarea",error:a.description,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),V("div",{class:"grid grid-cols-2 gap-4"},[l(i,{modelValue:t.is_required,"onUpdate:modelValue":[e=>t.is_required=e,e=>u("is_required")],label:"Bắt buộc",name:"is_required",type:"checkbox",error:a.is_required},null,8,["modelValue","onUpdate:modelValue","error"]),l(i,{modelValue:t.is_unique,"onUpdate:modelValue":[e=>t.is_unique=e,e=>u("is_unique")],label:"Duy nhất",name:"is_unique",type:"checkbox",error:a.is_unique},null,8,["modelValue","onUpdate:modelValue","error"])]),V("div",{class:"grid grid-cols-2 gap-4"},[l(i,{modelValue:t.is_filterable,"onUpdate:modelValue":[e=>t.is_filterable=e,e=>u("is_filterable")],label:"Có thể lọc",name:"is_filterable",type:"checkbox",error:a.is_filterable},null,8,["modelValue","onUpdate:modelValue","error"]),l(i,{modelValue:t.is_searchable,"onUpdate:modelValue":[e=>t.is_searchable=e,e=>u("is_searchable")],label:"Có thể tìm kiếm",name:"is_searchable",type:"checkbox",error:a.is_searchable},null,8,["modelValue","onUpdate:modelValue","error"])]),l(i,{modelValue:t.status,"onUpdate:modelValue":[e=>t.status=e,e=>u("status")],label:"Trạng thái",name:"status",type:"select",options:q.value,error:a.status},null,8,["modelValue","onUpdate:modelValue","options","error"])]),_:1},8,["default-values","rules","api-errors","submit-text"])]),_:1},8,["modelValue","title"]))}};export{D as default};
