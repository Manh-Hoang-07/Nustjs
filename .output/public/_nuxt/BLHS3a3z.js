const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D7b_e_Gq.js","./Cjf1njsN.js","./D_ZLElLM.js","./DDT-0HTi.js","./entry.DXI-NETG.css","./DlAUqK2U.js","./Modal.BJ6M6RCs.css","./BOPsCARg.js","./yLpPWoGU.js","./DCKoXk_D.js","./D6Zc0C2O.js","./Bn5CcRjN.js","./Bj1hfyy3.js","./B4pxijLT.js","./Bz77BRzt.js","./DleCNikt.js","./C-7MosQz.js","./DQcX2DB-.js","./Bj7Ql7Qk.js","./CONOwAJH.js"])))=>i.map(i=>d[i]);
import{I as p,z as Q,c as l,a as e,d as k,e as i,b as f,H as n,F as C,g as E,t as o,o as s,Q as y,k as T,_ as v}from"./DDT-0HTi.js";import{u as X,S as q,a as G}from"./eo2OyMsK.js";import{_ as J}from"./BUzXTnCp.js";import{_ as W}from"./BErXvs3o.js";import{a as Y}from"./Bz77BRzt.js";import{e as Z}from"./B4pxijLT.js";import"./DlAUqK2U.js";import"./D_ZLElLM.js";const ue={__name:"index",setup(ee){const B=y(()=>v(()=>import("./D7b_e_Gq.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url)),D=y(()=>v(()=>import("./C-7MosQz.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),M=y(()=>v(()=>import("./DQcX2DB-.js"),__vite__mapDeps([17,3,4,18,19,14]),import.meta.url)),{items:g,loading:L,pagination:c,filters:F,fetchData:u,updateFilters:I,deleteItem:P}=X(Z.brands.list,{defaultFilters:{search:"",status:"",sort_by:"created_at_desc"}}),{showSuccess:x,showError:S}=G(),r=p(null),d=p(!1),h=p(!1),m=p(!1);Q(async()=>{await u()});function V(t){I(t)}function O(){d.value=!0}function w(){d.value=!1}function j(t){r.value=t,h.value=!0}function b(){h.value=!1,r.value=null}function A(t){r.value=t,m.value=!0}function _(){m.value=!1,r.value=null}async function H(){await u(),w(),x("Thương hiệu đã được tạo thành công")}async function R(){await u(),b(),x("Thương hiệu đã được cập nhật thành công")}async function U(){try{await P(r.value.id),_(),x("Thương hiệu đã được xóa thành công")}catch{S("Không thể xóa thương hiệu")}}function $(t){if(!t)return;const a=new URL(t).searchParams.get("page");u({page:a})}function K(t){return Y("basic_status",t)||t||"Không xác định"}function N(t){return t==="active"?"bg-green-100 text-green-800":t==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}return(t,z)=>(s(),l("div",{class:"container mx-auto p-4"},[e("div",{class:"flex justify-between items-center mb-6"},[e("h1",{class:"text-2xl font-bold"},"Quản lý thương hiệu"),e("button",{onClick:O,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"}," Thêm thương hiệu mới ")]),k(n(M),{"initial-filters":n(F),"onUpdate:filters":V},null,8,["initial-filters"]),e("div",{class:"bg-white shadow-md rounded-lg overflow-hidden"},[n(L)?(s(),f(q,{key:0,type:"table",rows:5,columns:4})):(s(),l("table",{key:1,class:"min-w-full divide-y divide-gray-200"},[e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tên thương hiệu"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Trạng thái"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Thao tác")])]),e("tbody",{class:"bg-white divide-y divide-gray-200"},[(s(!0),l(C,null,E(n(g),a=>(s(),l("tr",{key:a.id},[e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},o(a.id),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},o(a.name),1),e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("span",{class:T(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",N(a.status)])},o(K(a.status)),3)]),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},[k(W,{item:a,onEdit:j,onDelete:A},null,8,["item"])])]))),128)),n(g).length===0?(s(),l("tr",{key:0},[e("td",{colspan:"4",class:"px-6 py-4 text-center text-gray-500"}," Không có dữ liệu ")])):i("",!0)])]))]),n(g).length>0?(s(),l("div",{key:0,class:"mt-4 flex justify-between items-center"},[e("div",{class:"text-sm text-gray-700"}," Hiển thị "+o(n(c).from||0)+" đến "+o(n(c).to||0)+" trên tổng số "+o(n(c).total||0)+" bản ghi ",1),e("div",{class:"flex space-x-1"},[(s(!0),l(C,null,E(n(c).links,a=>(s(),l("button",{key:a.label,onClick:te=>$(a.url),disabled:!a.url,class:T(["px-3 py-1 border rounded",a.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50",!a.url&&"opacity-50 cursor-not-allowed"]),innerHTML:a.label},null,10,["onClick","disabled","innerHTML"]))),128))])])):i("",!0),d.value?(s(),f(n(B),{key:1,show:d.value,"on-close":w,onCreated:H},null,8,["show"])):i("",!0),h.value?(s(),f(n(D),{key:2,show:h.value,brand:r.value,"on-close":b,onUpdated:R},null,8,["show","brand"])):i("",!0),m.value?(s(),f(J,{key:3,show:m.value,title:"Xác nhận xóa",message:`Bạn có chắc chắn muốn xóa thương hiệu ${r.value?.name||""}?`,"on-close":_,onConfirm:U},null,8,["show","message"])):i("",!0)]))}};export{ue as default};
