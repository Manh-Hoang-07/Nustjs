import d from"./d5_jZxOT.js";import{e as h}from"./B4pxijLT.js";import{M as y,I as C,N as w,O as _,c as k,b as v,e as E,o as i}from"./DDT-0HTi.js";import"./D_ZLElLM.js";import"./DlAUqK2U.js";const N={__name:"create",props:{show:Boolean,statusEnums:{type:Array,default:()=>[]},onClose:Function},emits:["created"],setup(c,{emit:l}){const u=y(),r=c,m=l,n=C(!1),s=w({});_(()=>r.show,a=>{n.value=a},{immediate:!0});async function p(a){try{Object.keys(s).forEach(e=>delete s[e]);const o=await u.post(h.roles.create,a);m("created"),r.onClose()}catch(o){if(o.response?.status===422&&o.response?.data?.errors){const e=o.response.data.errors;for(const t in e)Array.isArray(e[t])?s[t]=e[t][0]:s[t]=e[t]}}}function f(){r.onClose&&r.onClose()}return(a,o)=>(i(),k("div",null,[n.value?(i(),v(d,{key:0,show:n.value,"status-enums":c.statusEnums,"api-errors":s,onSubmit:p,onCancel:f},null,8,["show","status-enums","api-errors"])):E("",!0)]))}};export{N as default};
