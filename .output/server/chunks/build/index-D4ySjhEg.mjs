import{ref as a,mergeProps as t,useSSRContext as e}from"vue";import{ssrRenderAttrs as r,ssrRenderAttr as s,ssrIncludeBooleanAttr as d,ssrLooseContain as l,ssrLooseEqual as c,ssrRenderList as o,ssrInterpolate as i,ssrRenderClass as u,ssrRenderComponent as n}from"vue/server-renderer";import{i as v}from"./Actions-B-4SIiXX.mjs";import{s as g}from"./_plugin-vue_export-helper-DlAUqK2U.mjs";const p={__name:"index",__ssrInlineRender:!0,setup(e){const g=a([]),p=a(!1),y=a(!1),x=a(null),b=a({search:"",status:"",category:""}),m=a({title:"",excerpt:"",content:"",category:"news",status:"draft"}),f=a=>{x.value=a,m.value={...a},y.value=!0};return(a,e,x,h)=>{e(`<div${r(t({class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 p-6"},h))} data-v-1c24a081><div class="flex justify-between items-center mb-6" data-v-1c24a081><h1 class="text-2xl font-bold" data-v-1c24a081>Quản lý bài đăng</h1><button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors" data-v-1c24a081> Thêm bài đăng </button></div><div class="bg-white p-4 rounded-lg shadow mb-6" data-v-1c24a081><div class="grid grid-cols-1 md:grid-cols-4 gap-4" data-v-1c24a081><input${s("value",b.value.search)} type="text" placeholder="Tìm kiếm bài đăng..." class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-1c24a081><select class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-1c24a081><option value="" data-v-1c24a081${d(Array.isArray(b.value.status)?l(b.value.status,""):c(b.value.status,""))?" selected":""}>Tất cả trạng thái</option><option value="published" data-v-1c24a081${d(Array.isArray(b.value.status)?l(b.value.status,"published"):c(b.value.status,"published"))?" selected":""}>Đã xuất bản</option><option value="draft" data-v-1c24a081${d(Array.isArray(b.value.status)?l(b.value.status,"draft"):c(b.value.status,"draft"))?" selected":""}>Bản nháp</option><option value="archived" data-v-1c24a081${d(Array.isArray(b.value.status)?l(b.value.status,"archived"):c(b.value.status,"archived"))?" selected":""}>Đã lưu trữ</option></select><select class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-1c24a081><option value="" data-v-1c24a081${d(Array.isArray(b.value.category)?l(b.value.category,""):c(b.value.category,""))?" selected":""}>Tất cả danh mục</option><option value="news" data-v-1c24a081${d(Array.isArray(b.value.category)?l(b.value.category,"news"):c(b.value.category,"news"))?" selected":""}>Tin tức</option><option value="tutorial" data-v-1c24a081${d(Array.isArray(b.value.category)?l(b.value.category,"tutorial"):c(b.value.category,"tutorial"))?" selected":""}>Hướng dẫn</option><option value="review" data-v-1c24a081${d(Array.isArray(b.value.category)?l(b.value.category,"review"):c(b.value.category,"review"))?" selected":""}>Đánh giá</option></select><button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors" data-v-1c24a081> Lọc </button></div></div><div class="bg-white rounded-lg shadow overflow-hidden" data-v-1c24a081><div class="overflow-x-auto" data-v-1c24a081><table class="min-w-full divide-y divide-gray-200" data-v-1c24a081><thead class="bg-gray-50" data-v-1c24a081><tr data-v-1c24a081><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-1c24a081>Bài đăng</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-1c24a081>Tác giả</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-1c24a081>Danh mục</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-1c24a081>Trạng thái</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-1c24a081>Ngày tạo</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-1c24a081>Thao tác</th></tr></thead><tbody class="bg-white divide-y divide-gray-200" data-v-1c24a081>\x3c!--[--\x3e`),o(g.value,a=>{e(`<tr class="hover:bg-gray-50" data-v-1c24a081><td class="px-6 py-4 whitespace-nowrap" data-v-1c24a081><div class="flex items-center" data-v-1c24a081><div class="flex-shrink-0 h-10 w-10" data-v-1c24a081><img${s("src",a.featured_image||"/placeholder.jpg")}${s("alt",a.title)} class="h-10 w-10 rounded-lg object-cover" data-v-1c24a081></div><div class="ml-4" data-v-1c24a081><div class="text-sm font-medium text-gray-900" data-v-1c24a081>${i(a.title)}</div><div class="text-sm text-gray-500" data-v-1c24a081>${i(a.excerpt)}</div></div></div></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-v-1c24a081>${i(a.author?.name||"Admin")}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-v-1c24a081>${i(a.category)}</td><td class="px-6 py-4 whitespace-nowrap" data-v-1c24a081><span class="${u({"px-2 inline-flex text-xs leading-5 font-semibold rounded-full":!0,"bg-green-100 text-green-800":"published"===a.status,"bg-yellow-100 text-yellow-800":"draft"===a.status,"bg-gray-100 text-gray-800":"archived"===a.status})}" data-v-1c24a081>${i((a=>({published:"Đã xuất bản",draft:"Bản nháp",archived:"Đã lưu trữ"}[a]||a))(a.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-v-1c24a081>${i((a=>new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(a)))(a.created_at))}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-v-1c24a081>`),e(n(v,{item:a,onEdit:f,onDelete:a=>(async a=>{if(confirm("Bạn có chắc chắn muốn xóa bài đăng này?"))try{const t=g.value.findIndex(t=>t.id===a);t>-1&&g.value.splice(t,1)}catch{}})(a.id)},null,x)),e("</td></tr>")}),e("\x3c!--]--\x3e</tbody></table></div></div>"),p.value||y.value?e(`<div class="fixed inset-0 flex items-center justify-center" data-v-1c24a081><div class="fixed inset-0 z-40 bg-white bg-opacity-10 backdrop-blur-md" data-v-1c24a081></div><div class="relative z-50 bg-white rounded-lg shadow-lg p-8 w-full max-w-md" data-v-1c24a081><div class="mt-3" data-v-1c24a081><h3 class="text-lg font-medium text-gray-900 mb-4" data-v-1c24a081>${i(y.value?"Sửa bài đăng":"Thêm bài đăng")}</h3><form data-v-1c24a081><div class="space-y-4" data-v-1c24a081><div data-v-1c24a081><label class="block text-sm font-medium text-gray-700" data-v-1c24a081>Tiêu đề</label><input${s("value",m.value.title)} type="text" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-1c24a081></div><div data-v-1c24a081><label class="block text-sm font-medium text-gray-700" data-v-1c24a081>Tóm tắt</label><textarea rows="3" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-1c24a081>${i(m.value.excerpt)}</textarea></div><div data-v-1c24a081><label class="block text-sm font-medium text-gray-700" data-v-1c24a081>Nội dung</label><textarea rows="6" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-1c24a081>${i(m.value.content)}</textarea></div><div data-v-1c24a081><label class="block text-sm font-medium text-gray-700" data-v-1c24a081>Danh mục</label><select class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-1c24a081><option value="news" data-v-1c24a081${d(Array.isArray(m.value.category)?l(m.value.category,"news"):c(m.value.category,"news"))?" selected":""}>Tin tức</option><option value="tutorial" data-v-1c24a081${d(Array.isArray(m.value.category)?l(m.value.category,"tutorial"):c(m.value.category,"tutorial"))?" selected":""}>Hướng dẫn</option><option value="review" data-v-1c24a081${d(Array.isArray(m.value.category)?l(m.value.category,"review"):c(m.value.category,"review"))?" selected":""}>Đánh giá</option></select></div><div data-v-1c24a081><label class="block text-sm font-medium text-gray-700" data-v-1c24a081>Trạng thái</label><select class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-1c24a081><option value="draft" data-v-1c24a081${d(Array.isArray(m.value.status)?l(m.value.status,"draft"):c(m.value.status,"draft"))?" selected":""}>Bản nháp</option><option value="published" data-v-1c24a081${d(Array.isArray(m.value.status)?l(m.value.status,"published"):c(m.value.status,"published"))?" selected":""}>Xuất bản</option><option value="archived" data-v-1c24a081${d(Array.isArray(m.value.status)?l(m.value.status,"archived"):c(m.value.status,"archived"))?" selected":""}>Lưu trữ</option></select></div></div><div class="flex justify-end space-x-3 mt-6" data-v-1c24a081><button type="button" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50" data-v-1c24a081> Hủy </button><button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600" data-v-1c24a081>${i(y.value?"Cập nhật":"Thêm")}</button></div></form></div></div></div>`):e("\x3c!----\x3e"),e("</div>")}}},y=p.setup;p.setup=(a,t)=>{const r=e();return(r.modules||(r.modules=new Set)).add("pages/admin/posts/index.vue"),y?y(a,t):void 0};const x=g(p,[["__scopeId","data-v-1c24a081"]]);export{x as default};
