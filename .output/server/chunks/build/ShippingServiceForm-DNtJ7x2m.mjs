import{computed as e,reactive as t,watch as r,mergeProps as s,withCtx as d,createVNode as o,withModifiers as a,withDirectives as i,createBlock as n,createCommentVNode as l,createTextVNode as p,vModelText as m,openBlock as u,toDisplayString as c,Fragment as b,renderList as x,vModelSelect as g,useSSRContext as f}from"vue";import{ssrRenderComponent as y,ssrRenderAttr as v,ssrRenderClass as _,ssrInterpolate as h,ssrIncludeBooleanAttr as $,ssrLooseContain as w,ssrLooseEqual as E,ssrRenderList as k}from"vue/server-renderer";import{R as U}from"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";const V={__name:"ShippingServiceForm",__ssrInlineRender:!0,props:{show:Boolean,service:Object,providers:{type:Array,default:()=>[]},apiErrors:{type:Object,default:()=>({})},mode:String},emits:["submit","cancel"],setup(f,{emit:V}){const q=f,S=V,j=e({get:()=>q.show,set:()=>T()}),C=e(()=>"edit"===q.mode?"Chỉnh sửa dịch vụ":"Thêm dịch vụ mới"),M=t({name:"",code:"",provider_id:"",base_price:"",weight_fee:"",estimated_days:"",status:"active"}),B=t({});function A(){Object.keys(B).forEach(e=>delete B[e])}r(()=>q.service,e=>{e?(M.name=e.name||"",M.code=e.code||"",M.provider_id=e.provider_id||"",M.base_price=e.base_price||"",M.weight_fee=e.weight_fee||"",M.estimated_days=e.estimated_days||"",M.status=e.status||"active"):(M.name="",M.code="",M.provider_id="",M.base_price="",M.weight_fee="",M.estimated_days="",M.status="active",A())},{immediate:!0});const F=e(()=>({name:[{required:"Tên dịch vụ là bắt buộc."}],code:[{required:"Mã dịch vụ là bắt buộc."}],provider_id:[{required:"Provider là bắt buộc."}],base_price:[{required:"Base price là bắt buộc."},{number:"Base price phải là số."}],weight_fee:[{required:"Weight fee là bắt buộc."},{number:"Weight fee phải là số."}],estimated_days:[{required:"Estimated days là bắt buộc."},{number:"Estimated days phải là số."}]}));function H(){if(!function(){A();let e=!0;const t=F.value;for(const r in t)for(const s of t[r]){if(s.required&&!M[r]){B[r]=s.required,e=!1;break}if(s.number&&M[r]&&isNaN(M[r])){B[r]=s.number,e=!1;break}}return e}())return;const e=new FormData;e.append("name",M.name),e.append("code",M.code),e.append("provider_id",M.provider_id),e.append("base_price",M.base_price),e.append("weight_fee",M.weight_fee),e.append("estimated_days",M.estimated_days),e.append("status",M.status),S("submit",e)}function T(){S("cancel")}return(e,t,r,V)=>{t(y(U,s({modelValue:j.value,"onUpdate:modelValue":e=>j.value=e,title:C.value},V),{default:d((e,t,r,s)=>{if(!t)return[o("form",{onSubmit:a(H,["prevent"]),class:"space-y-4"},[o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Tên dịch vụ "),o("span",{class:"text-red-500"},"*")]),i(o("input",{"onUpdate:modelValue":e=>M.name=e,type:"text",class:["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":B.name||f.apiErrors.name}],maxlength:"100"},null,10,["onUpdate:modelValue"]),[[m,M.name]]),B.name?(u(),n("p",{key:0,class:"mt-1 text-sm text-red-600"},c(B.name),1)):f.apiErrors.name?(u(),n("p",{key:1,class:"mt-1 text-sm text-red-600"},c(f.apiErrors.name),1)):l("",!0)]),o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Mã dịch vụ (code) "),o("span",{class:"text-red-500"},"*")]),i(o("input",{"onUpdate:modelValue":e=>M.code=e,type:"text",class:["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":B.code||f.apiErrors.code}],maxlength:"50"},null,10,["onUpdate:modelValue"]),[[m,M.code]]),B.code?(u(),n("p",{key:0,class:"mt-1 text-sm text-red-600"},c(B.code),1)):f.apiErrors.code?(u(),n("p",{key:1,class:"mt-1 text-sm text-red-600"},c(f.apiErrors.code),1)):l("",!0)]),o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Provider "),o("span",{class:"text-red-500"},"*")]),i(o("select",{"onUpdate:modelValue":e=>M.provider_id=e,class:["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":B.provider_id||f.apiErrors.provider_id}]},[o("option",{value:""},"Chọn provider"),(u(!0),n(b,null,x(f.providers,e=>(u(),n("option",{key:e.id,value:e.id},c(e.name),9,["value"]))),128))],10,["onUpdate:modelValue"]),[[g,M.provider_id]]),B.provider_id?(u(),n("p",{key:0,class:"mt-1 text-sm text-red-600"},c(B.provider_id),1)):f.apiErrors.provider_id?(u(),n("p",{key:1,class:"mt-1 text-sm text-red-600"},c(f.apiErrors.provider_id),1)):l("",!0)]),o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Base Price "),o("span",{class:"text-red-500"},"*")]),i(o("input",{"onUpdate:modelValue":e=>M.base_price=e,type:"number",class:["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":B.base_price||f.apiErrors.base_price}]},null,10,["onUpdate:modelValue"]),[[m,M.base_price]]),B.base_price?(u(),n("p",{key:0,class:"mt-1 text-sm text-red-600"},c(B.base_price),1)):f.apiErrors.base_price?(u(),n("p",{key:1,class:"mt-1 text-sm text-red-600"},c(f.apiErrors.base_price),1)):l("",!0)]),o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Weight Fee "),o("span",{class:"text-red-500"},"*")]),i(o("input",{"onUpdate:modelValue":e=>M.weight_fee=e,type:"number",class:["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":B.weight_fee||f.apiErrors.weight_fee}]},null,10,["onUpdate:modelValue"]),[[m,M.weight_fee]]),B.weight_fee?(u(),n("p",{key:0,class:"mt-1 text-sm text-red-600"},c(B.weight_fee),1)):f.apiErrors.weight_fee?(u(),n("p",{key:1,class:"mt-1 text-sm text-red-600"},c(f.apiErrors.weight_fee),1)):l("",!0)]),o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Estimated Days "),o("span",{class:"text-red-500"},"*")]),i(o("input",{"onUpdate:modelValue":e=>M.estimated_days=e,type:"number",class:["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":B.estimated_days||f.apiErrors.estimated_days}]},null,10,["onUpdate:modelValue"]),[[m,M.estimated_days]]),B.estimated_days?(u(),n("p",{key:0,class:"mt-1 text-sm text-red-600"},c(B.estimated_days),1)):f.apiErrors.estimated_days?(u(),n("p",{key:1,class:"mt-1 text-sm text-red-600"},c(f.apiErrors.estimated_days),1)):l("",!0)]),o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Trạng thái"),i(o("select",{"onUpdate:modelValue":e=>M.status=e,class:["w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":B.status||f.apiErrors.status}]},[o("option",{value:"active"},"Hoạt động"),o("option",{value:"inactive"},"Không hoạt động")],10,["onUpdate:modelValue"]),[[g,M.status]]),B.status?(u(),n("p",{key:0,class:"mt-1 text-sm text-red-600"},c(B.status),1)):f.apiErrors.status?(u(),n("p",{key:1,class:"mt-1 text-sm text-red-600"},c(f.apiErrors.status),1)):l("",!0)]),o("div",{class:"flex justify-end space-x-3 pt-4"},[o("button",{type:"button",onClick:T,class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none"},"Huỷ"),o("button",{type:"submit",class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none"},c("edit"===f.mode?"Cập nhật":"Thêm mới"),1)])],32)];t(`<form class="space-y-4"${s}><div${s}><label class="block text-sm font-medium text-gray-700 mb-1"${s}>Tên dịch vụ <span class="text-red-500"${s}>*</span></label><input${v("value",M.name)} type="text" class="${_([{"border-red-500":B.name||f.apiErrors.name},"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"])}" maxlength="100"${s}>`),B.name?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(B.name)}</p>`):f.apiErrors.name?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(f.apiErrors.name)}</p>`):t("\x3c!----\x3e"),t(`</div><div${s}><label class="block text-sm font-medium text-gray-700 mb-1"${s}>Mã dịch vụ (code) <span class="text-red-500"${s}>*</span></label><input${v("value",M.code)} type="text" class="${_([{"border-red-500":B.code||f.apiErrors.code},"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"])}" maxlength="50"${s}>`),B.code?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(B.code)}</p>`):f.apiErrors.code?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(f.apiErrors.code)}</p>`):t("\x3c!----\x3e"),t(`</div><div${s}><label class="block text-sm font-medium text-gray-700 mb-1"${s}>Provider <span class="text-red-500"${s}>*</span></label><select class="${_([{"border-red-500":B.provider_id||f.apiErrors.provider_id},"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"])}"${s}><option value=""${$(Array.isArray(M.provider_id)?w(M.provider_id,""):E(M.provider_id,""))?" selected":""}${s}>Chọn provider</option>\x3c!--[--\x3e`),k(f.providers,e=>{t(`<option${v("value",e.id)}${$(Array.isArray(M.provider_id)?w(M.provider_id,e.id):E(M.provider_id,e.id))?" selected":""}${s}>${h(e.name)}</option>`)}),t("\x3c!--]--\x3e</select>"),B.provider_id?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(B.provider_id)}</p>`):f.apiErrors.provider_id?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(f.apiErrors.provider_id)}</p>`):t("\x3c!----\x3e"),t(`</div><div${s}><label class="block text-sm font-medium text-gray-700 mb-1"${s}>Base Price <span class="text-red-500"${s}>*</span></label><input${v("value",M.base_price)} type="number" class="${_([{"border-red-500":B.base_price||f.apiErrors.base_price},"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"])}"${s}>`),B.base_price?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(B.base_price)}</p>`):f.apiErrors.base_price?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(f.apiErrors.base_price)}</p>`):t("\x3c!----\x3e"),t(`</div><div${s}><label class="block text-sm font-medium text-gray-700 mb-1"${s}>Weight Fee <span class="text-red-500"${s}>*</span></label><input${v("value",M.weight_fee)} type="number" class="${_([{"border-red-500":B.weight_fee||f.apiErrors.weight_fee},"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"])}"${s}>`),B.weight_fee?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(B.weight_fee)}</p>`):f.apiErrors.weight_fee?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(f.apiErrors.weight_fee)}</p>`):t("\x3c!----\x3e"),t(`</div><div${s}><label class="block text-sm font-medium text-gray-700 mb-1"${s}>Estimated Days <span class="text-red-500"${s}>*</span></label><input${v("value",M.estimated_days)} type="number" class="${_([{"border-red-500":B.estimated_days||f.apiErrors.estimated_days},"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"])}"${s}>`),B.estimated_days?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(B.estimated_days)}</p>`):f.apiErrors.estimated_days?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(f.apiErrors.estimated_days)}</p>`):t("\x3c!----\x3e"),t(`</div><div${s}><label class="block text-sm font-medium text-gray-700 mb-1"${s}>Trạng thái</label><select class="${_([{"border-red-500":B.status||f.apiErrors.status},"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"])}"${s}><option value="active"${$(Array.isArray(M.status)?w(M.status,"active"):E(M.status,"active"))?" selected":""}${s}>Hoạt động</option><option value="inactive"${$(Array.isArray(M.status)?w(M.status,"inactive"):E(M.status,"inactive"))?" selected":""}${s}>Không hoạt động</option></select>`),B.status?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(B.status)}</p>`):f.apiErrors.status?t(`<p class="mt-1 text-sm text-red-600"${s}>${h(f.apiErrors.status)}</p>`):t("\x3c!----\x3e"),t(`</div><div class="flex justify-end space-x-3 pt-4"${s}><button type="button" class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none"${s}>Huỷ</button><button type="submit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none"${s}>${h("edit"===f.mode?"Cập nhật":"Thêm mới")}</button></div></form>`)}),_:1},r))}}},q=V.setup;V.setup=(e,t)=>{const r=f();return(r.modules||(r.modules=new Set)).add("pages/admin/Shipping/Services/ShippingServiceForm.vue"),q?q(e,t):void 0};export{V as default};
