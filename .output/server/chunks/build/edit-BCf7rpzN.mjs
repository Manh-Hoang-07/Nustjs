import{ssrRenderAttrs as e,ssrRenderComponent as o}from"vue/server-renderer";import r from"./form-BVy9YFyE.mjs";import{p as t}from"./endpoints-B4pxijLT.mjs";import{ref as s,reactive as a,watch as i,useSSRContext as n}from"vue";import{E as u}from"./useApiClient-LtAAs9ek.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./enums-Bz77BRzt.mjs";import"axios";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";const m={__name:"edit",__ssrInlineRender:!0,props:{show:Boolean,warehouse:Object,onClose:Function},emits:["updated"],setup(n,{emit:m}){const p=u(),d=n,l=m,c=s(!1),h=s(null),f=s(!1),w=a({});async function v(e){try{if(!d.warehouse)return;Object.keys(w).forEach(e=>delete w[e]),await p.put(t.warehouses.update(d.warehouse.id),e),l("updated"),d.onClose()}catch(e){if(422===e.response?.status&&e.response?.data?.errors){const o=e.response.data.errors;for(const e in o)Array.isArray(o[e])?w[e]=o[e][0]:w[e]=o[e]}}}function C(){d.onClose&&d.onClose()}return i(()=>d.show,e=>{c.value=e,e?(Object.keys(w).forEach(e=>delete w[e]),d.warehouse?.id&&async function(){if(d.warehouse?.id){f.value=!0;try{const e=await p.get(`/api/admin/warehouses/${d.warehouse.id}`);h.value=e.data.data||e.data}catch{h.value=d.warehouse}finally{f.value=!1}}}()):(h.value=null,f.value=!1)},{immediate:!0}),(t,s,a,i)=>{s(`<div${e(i)}>`),c.value?s(o(r,{show:c.value,warehouse:h.value,"api-errors":w,loading:f.value,onSubmit:v,onCancel:C},null,a)):s("\x3c!----\x3e"),s("</div>")}}},p=m.setup;m.setup=(e,o)=>{const r=n();return(r.modules||(r.modules=new Set)).add("pages/admin/Warehouses/edit.vue"),p?p(e,o):void 0};export{m as default};
