import{ref as e,watch as r,unref as t,useSSRContext as o}from"vue";import{ssrRenderAttrs as m,ssrRenderComponent as s}from"vue/server-renderer";import i from"./form-Dp_qjMmC.mjs";import{p as n}from"./endpoints-B4pxijLT.mjs";import{o as a}from"./enums-Bz77BRzt.mjs";import{l as p}from"./useApiFormSubmit-CTcJmgU_.mjs";import{E as u}from"./useApiClient-LtAAs9ek.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./FormWrapper-BkWXOK5b.mjs";import"./FormField-C25kxm9c.mjs";import"./useFormDefaults-CTfnk28m.mjs";import"./useUrl-CNWGMiP9.mjs";import"./ImageUploader-CkuS8dvw.mjs";import"axios";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";const d={__name:"create",__ssrInlineRender:!0,props:{show:Boolean,onClose:Function},emits:["created"],setup(o,{emit:d}){const l=u(),c=o,v=d,f=e(!1),j=e([]),C=e([]),{apiErrors:g,submit:y}=p({endpoint:n.categories.create,emit:v,onClose:c.onClose,eventName:"created",method:"post"});async function _(e){await y(e)}function h(){c.onClose&&c.onClose()}return r(()=>c.show,e=>{f.value=e,e&&(async function(){try{const e=await l.get(n.categories.list,{params:{per_page:100}});j.value=e.data.data||[]}catch{j.value=[]}}(),async function(){try{const e=a("basic_status");C.value=Array.isArray(e)?e:[]}catch{C.value=[]}}())},{immediate:!0}),(e,r,o,n)=>{r(`<div${m(n)}>`),f.value?r(s(i,{show:f.value,"parent-categories":j.value,"status-enums":C.value,"api-errors":t(g),onSubmit:_,onCancel:h},null,o)):r("\x3c!----\x3e"),r("</div>")}}},l=d.setup;d.setup=(e,r)=>{const t=o();return(t.modules||(t.modules=new Set)).add("pages/admin/categories/create.vue"),l?l(e,r):void 0};export{d as default};
