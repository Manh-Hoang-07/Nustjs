import{ref as e,computed as l,watch as a,mergeProps as t,unref as u,useSSRContext as s}from"vue";import{ssrRenderAttrs as d,ssrRenderComponent as n}from"vue/server-renderer";import{g as o}from"./AdminFilterItem-DO5SHsRe.mjs";import{E as r}from"./debounce-CONOwAJH.mjs";import{o as i}from"./enums-Bz77BRzt.mjs";const p={__name:"filter",__ssrInlineRender:!0,props:{initialFilters:{type:Object,default:()=>({})},warehouses:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]}},emits:["update:filters"],setup(s,{emit:p}){const c=s,m=p,v=e({search:"",warehouse_id:"",brand_id:"",category_id:"",stock_status:"",expiry_status:"",sort_by:"updated_at_desc",...c.initialFilters}),b=l(()=>[{value:"",label:"Tất cả kho hàng"},...c.warehouses.map(e=>({value:e.id,label:e.name}))]),h=l(()=>[{value:"",label:"Tất cả thương hiệu"},...c.brands.map(e=>({value:e.id,label:e.name}))]),_=l(()=>[{value:"",label:"Tất cả danh mục"},...c.categories.map(e=>({value:e.id,label:e.name}))]),y=l(()=>{const e=i("stock_status"),l=[{value:"",label:"Tất cả trạng thái"}];return Array.isArray(e)&&l.push(...e.map(e=>({value:e.value,label:e.label}))),l}),g=l(()=>{const e=i("expiry_status"),l=[{value:"",label:"Tất cả hạn sử dụng"}];return Array.isArray(e)&&l.push(...e.map(e=>({value:e.value,label:e.label}))),l}),f=[{value:"updated_at_desc",label:"Cập nhật gần nhất"},{value:"updated_at_asc",label:"Cập nhật xa nhất"},{value:"available_quantity_desc",label:"Số lượng giảm dần"},{value:"available_quantity_asc",label:"Số lượng tăng dần"},{value:"expiry_date_asc",label:"Hạn sử dụng gần nhất"},{value:"expiry_date_desc",label:"Hạn sử dụng xa nhất"},{value:"product_name_asc",label:"Tên sản phẩm A-Z"},{value:"product_name_desc",label:"Tên sản phẩm Z-A"}],x=r(()=>{!function(){const e={};Object.keys(v.value).forEach(l=>{""!==v.value[l]&&null!==v.value[l]&&void 0!==v.value[l]&&(e[l]=v.value[l])}),m("update:filters",e)}()},300);return a(()=>c.initialFilters,e=>{v.value={...v.value,...e}},{deep:!0}),(e,l,a,s)=>{l(`<div${d(t({class:"bg-white p-4 rounded-lg shadow mb-6"},s))}><form><div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4">`),l(n(o,{id:"search",label:"Tìm kiếm",type:"text",modelValue:v.value.search,"onUpdate:modelValue":e=>v.value.search=e,placeholder:"Tên sản phẩm, mã sản phẩm...",onInput:u(x)},null,a)),l(n(o,{id:"warehouse_id",label:"Kho hàng",type:"select",modelValue:v.value.warehouse_id,"onUpdate:modelValue":e=>v.value.warehouse_id=e,placeholder:"Tất cả kho hàng",options:b.value},null,a)),l(n(o,{id:"brand_id",label:"Thương hiệu",type:"select",modelValue:v.value.brand_id,"onUpdate:modelValue":e=>v.value.brand_id=e,placeholder:"Tất cả thương hiệu",options:h.value},null,a)),l(n(o,{id:"category_id",label:"Danh mục",type:"select",modelValue:v.value.category_id,"onUpdate:modelValue":e=>v.value.category_id=e,placeholder:"Tất cả danh mục",options:_.value},null,a)),l(n(o,{id:"stock_status",label:"Trạng thái tồn kho",type:"select",modelValue:v.value.stock_status,"onUpdate:modelValue":e=>v.value.stock_status=e,placeholder:"Tất cả trạng thái",options:y.value},null,a)),l(n(o,{id:"expiry_status",label:"Hạn sử dụng",type:"select",modelValue:v.value.expiry_status,"onUpdate:modelValue":e=>v.value.expiry_status=e,placeholder:"Tất cả hạn sử dụng",options:g.value},null,a)),l(n(o,{id:"sort_by",label:"Sắp xếp theo",type:"select",modelValue:v.value.sort_by,"onUpdate:modelValue":e=>v.value.sort_by=e,options:f},null,a)),l('<div class="flex items-end space-x-2"><button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"> Lọc </button><button type="button" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none"> Đặt lại </button></div></div></form></div>')}}},c=p.setup;p.setup=(e,l)=>{const a=s();return(a.modules||(a.modules=new Set)).add("pages/admin/inventory/filter.vue"),c?c(e,l):void 0};export{p as default};
