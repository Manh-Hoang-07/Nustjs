import{ref as e,watch as r,unref as o,useSSRContext as t}from"vue";import{ssrRenderAttrs as s,ssrRenderComponent as m}from"vue/server-renderer";import i from"./form-Dcf2DC0M.mjs";import{p as n}from"./endpoints-B4pxijLT.mjs";import{o as p}from"./enums-Bz77BRzt.mjs";import{l as a}from"./useApiFormSubmit-CTcJmgU_.mjs";import{E as u}from"./useApiClient-LtAAs9ek.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./FormWrapper-BkWXOK5b.mjs";import"./FormField-C25kxm9c.mjs";import"./useFormDefaults-CTfnk28m.mjs";import"axios";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";const l={__name:"create",__ssrInlineRender:!0,props:{show:Boolean,onClose:Function},emits:["created"],setup(t,{emit:l}){const d=u(),c=t,v=l,f=e(!1),j=e([]),C=e([]),{apiErrors:_,submit:b}=a({endpoint:n.permissions.create,emit:v,onClose:c.onClose,eventName:"created",method:"post"});async function h(e){await b(e)}function y(){c.onClose&&c.onClose()}return r(()=>c.show,e=>{f.value=e,e&&(async function(){try{const e=p("basic_status");j.value=Array.isArray(e)?e:[]}catch{j.value=[]}}(),async function(){try{const e=await d.get(n.permissions.list,{params:{per_page:100,relations:"parent"}});C.value=e.data.data||[]}catch{C.value=[]}}())},{immediate:!0}),(e,r,t,n)=>{r(`<div${s(n)}>`),f.value?r(m(i,{show:f.value,"parent-options":C.value,"status-enums":j.value,"api-errors":o(_),onSubmit:h,onCancel:y},null,t)):r("\x3c!----\x3e"),r("</div>")}}},d=l.setup;l.setup=(e,r)=>{const o=t();return(o.modules||(o.modules=new Set)).add("pages/admin/permissions/create.vue"),d?d(e,r):void 0};export{l as default};
