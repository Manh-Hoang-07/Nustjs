import{ref as e,watch as s,unref as r,useSSRContext as o}from"vue";import{ssrRenderAttrs as t,ssrRenderComponent as m}from"vue/server-renderer";import n from"./form-B4emUnC7.mjs";import{p as u}from"./endpoints-B4pxijLT.mjs";import{l as a}from"./useApiFormSubmit-CTcJmgU_.mjs";import{s as i}from"./apiClient-CZcLLw7q.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./FormWrapper-BkWXOK5b.mjs";import"./FormField-C25kxm9c.mjs";import"./ImageUploader-CkuS8dvw.mjs";import"./useUrl-CNWGMiP9.mjs";import"axios";const l={__name:"edit",__ssrInlineRender:!0,props:{show:Boolean,user:Object,statusEnums:Array,genderEnums:Array,roleEnums:Array,onClose:Function},emits:["updated"],setup(o,{emit:l}){const p=o,d=l,c=e(!1),f=e(null),j=e(!1),{apiErrors:g,submit:y}=a({endpoint:u.users.update(p.user?.id),emit:d,onClose:p.onClose,eventName:"updated",method:"put"});async function v(){try{j.value=!0;const e=await i.get(u.users.show(p.user.id));e.data.success&&(f.value=e.data.data)}catch{}finally{j.value=!1}}async function C(e){await y(e)}function w(){p.onClose&&p.onClose()}return s(()=>p.show,async e=>{c.value=e,e&&p.user?.id&&await v()},{immediate:!0}),(e,s,u,a)=>{s(`<div${t(a)}>`),c.value?s(m(n,{show:c.value,user:f.value,"status-enums":o.statusEnums,"gender-enums":o.genderEnums,"role-enums":o.roleEnums,"api-errors":r(g),loading:j.value,onSubmit:C,onCancel:w},null,u)):s("\x3c!----\x3e"),s("</div>")}}},p=l.setup;l.setup=(e,s)=>{const r=o();return(r.modules||(r.modules=new Set)).add("pages/admin/Users/edit.vue"),p?p(e,s):void 0};export{l as default};
