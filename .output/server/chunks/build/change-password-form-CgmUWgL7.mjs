import{computed as e,mergeProps as r,withCtx as o,createVNode as a,useSSRContext as s}from"vue";import{ssrRenderComponent as t}from"vue/server-renderer";import{R as n}from"./Modal-CcMmmM3q.mjs";import{j as d}from"./FormWrapper-BkWXOK5b.mjs";import{$ as l}from"./FormField-C25kxm9c.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";const p={__name:"change-password-form",__ssrInlineRender:!0,props:{show:Boolean,user:Object,apiErrors:{type:Object,default:()=>({})}},emits:["submit","cancel"],setup(s,{emit:p}){const u=s,i=p,w=e(()=>`Đổi mật khẩu cho ${u.user?.username||"người dùng"}`),c=e({get:()=>u.show,set:()=>m()}),f={password:"",password_confirmation:""},h={password:[{required:"Mật khẩu mới là bắt buộc."},{min:[8,"Mật khẩu phải có ít nhất 8 ký tự."]}],password_confirmation:[{required:"Vui lòng xác nhận mật khẩu mới."},{match:["password","Mật khẩu xác nhận không khớp."]}]};function _(e){i("submit",e)}function m(){i("cancel")}return(e,p,u,i)=>{p(t(n,r({modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,title:w.value},i),{default:o((e,r,n,p)=>{if(!r)return[a(d,{"default-values":f,rules:h,"api-errors":s.apiErrors,"submit-text":"Đổi mật khẩu",onSubmit:_,onCancel:m},{default:o(({form:e,errors:r,clearError:o,isSubmitting:s})=>[a(l,{modelValue:e.password,"onUpdate:modelValue":[r=>e.password=r,e=>o("password")],label:"Mật khẩu mới",name:"password",type:"password",error:r.password,required:"",autocomplete:"new-password"},null,8,["modelValue","onUpdate:modelValue","error"]),a(l,{modelValue:e.password_confirmation,"onUpdate:modelValue":[r=>e.password_confirmation=r,e=>o("password_confirmation")],label:"Xác nhận mật khẩu mới",name:"password_confirmation",type:"password",error:r.password_confirmation,required:"",autocomplete:"new-password"},null,8,["modelValue","onUpdate:modelValue","error"])]),_:1},8,["api-errors"])];r(t(d,{"default-values":f,rules:h,"api-errors":s.apiErrors,"submit-text":"Đổi mật khẩu",onSubmit:_,onCancel:m},{default:o(({form:e,errors:r,clearError:o,isSubmitting:s},n,d,p)=>{if(!n)return[a(l,{modelValue:e.password,"onUpdate:modelValue":[r=>e.password=r,e=>o("password")],label:"Mật khẩu mới",name:"password",type:"password",error:r.password,required:"",autocomplete:"new-password"},null,8,["modelValue","onUpdate:modelValue","error"]),a(l,{modelValue:e.password_confirmation,"onUpdate:modelValue":[r=>e.password_confirmation=r,e=>o("password_confirmation")],label:"Xác nhận mật khẩu mới",name:"password_confirmation",type:"password",error:r.password_confirmation,required:"",autocomplete:"new-password"},null,8,["modelValue","onUpdate:modelValue","error"])];n(t(l,{modelValue:e.password,"onUpdate:modelValue":[r=>e.password=r,e=>o("password")],label:"Mật khẩu mới",name:"password",type:"password",error:r.password,required:"",autocomplete:"new-password"},null,d,p)),n(t(l,{modelValue:e.password_confirmation,"onUpdate:modelValue":[r=>e.password_confirmation=r,e=>o("password_confirmation")],label:"Xác nhận mật khẩu mới",name:"password_confirmation",type:"password",error:r.password_confirmation,required:"",autocomplete:"new-password"},null,d,p))}),_:1},n,p))}),_:1},u))}}},u=p.setup;p.setup=(e,r)=>{const o=s();return(o.modules||(o.modules=new Set)).add("pages/admin/Users/change-password-form.vue"),u?u(e,r):void 0};export{p as default};
