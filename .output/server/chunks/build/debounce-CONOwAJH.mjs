function E(n,t,i={}){const{immediate:o=!1,trailing:r=!0,maxWait:u}=i;let e,c,d,v=0;function l(t){const i=arguments;return v=t,d=n.apply(this,i),d}function f(n,t){return setTimeout(n,t)}function m(n){const i=n-c;return void 0===c||i>=t||i<0||void 0!==u&&n-v>=u}function s(){const n=Date.now();if(m(n))return g(n);e=f(s,function(n){const i=n-v,o=t-(n-c);return void 0!==u?Math.min(o,u-i):o}(n))}function g(n){return e=void 0,r&&void 0!==c?l(n):d}function a(...n){const i=Date.now(),r=m(i);if(c=i,r){if(void 0===e)return function(n){return v=n,e=f(s,t),o?l(n):d}(c);if(void 0!==u)return e=f(s,t),l(c)}return void 0===e&&(e=f(s,t)),d}return a.cancel=function(){void 0!==e&&clearTimeout(e),v=0,c=void 0,e=void 0},a.flush=function(){return void 0===e?d:g(Date.now())},a.pending=function(){return void 0!==e},a}export{E};
