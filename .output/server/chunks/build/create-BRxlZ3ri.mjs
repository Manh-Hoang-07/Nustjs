import{ssrRenderAttrs as e,ssrRenderComponent as r}from"vue/server-renderer";import o from"./form-BnZV4HIp.mjs";import{p as t}from"./endpoints-B4pxijLT.mjs";import{ref as s,reactive as m,watch as i,useSSRContext as n}from"vue";import{s as p}from"./apiClient-CZcLLw7q.mjs";import{o as a}from"./enums-Bz77BRzt.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./FormWrapper-BkWXOK5b.mjs";import"./FormField-C25kxm9c.mjs";import"./debounce-CONOwAJH.mjs";import"./useApiClient-LtAAs9ek.mjs";import"axios";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";import"./ImageUploader-CkuS8dvw.mjs";const u={__name:"create",__ssrInlineRender:!0,props:{show:Boolean,onClose:Function},emits:["created"],setup(n,{emit:u}){const d=n,l=u,c=s(!1),f=m({}),j=s({});async function v(e){try{Object.keys(f).forEach(e=>delete f[e]),await p.post(t.products.create,e),l("created"),d.onClose()}catch(e){if(422===e.response?.status&&e.response?.data?.errors){const r=e.response.data.errors;for(const e in r)Array.isArray(r[e])?f[e]=r[e][0]:f[e]=r[e]}}}function C(){d.onClose&&d.onClose()}return i(()=>d.show,e=>{c.value=e,e&&(Object.keys(f).forEach(e=>delete f[e]),function(){const e=a("product_status");j.value=e.map(e=>({value:e.value,label:e.label}))}())},{immediate:!0}),(t,s,m,i)=>{s(`<div${e(i)}>`),c.value?s(r(o,{show:c.value,"api-errors":f,"status-options":j.value,onSubmit:v,onCancel:C},null,m)):s("\x3c!----\x3e"),s("</div>")}}},d=u.setup;u.setup=(e,r)=>{const o=n();return(o.modules||(o.modules=new Set)).add("pages/admin/Products/create.vue"),d?d(e,r):void 0};export{u as default};
