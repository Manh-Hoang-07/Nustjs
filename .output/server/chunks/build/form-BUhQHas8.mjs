import{computed as e,mergeProps as a,withCtx as l,unref as o,createVNode as t,useSSRContext as r}from"vue";import{ssrRenderComponent as m}from"vue/server-renderer";import{R as n}from"./Modal-CcMmmM3q.mjs";import{j as u}from"./FormWrapper-BkWXOK5b.mjs";import{$ as d}from"./FormField-C25kxm9c.mjs";import{m as i}from"./useFormDefaults-CTfnk28m.mjs";import{i as s}from"./useUrl-CNWGMiP9.mjs";import{u as p}from"./ImageUploader-CkuS8dvw.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";const c={__name:"form",__ssrInlineRender:!0,props:{show:Boolean,brand:Object,statusEnums:{type:Array,default:()=>[]},apiErrors:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(r,{emit:c}){const g=r,b=c,V=e(()=>g.brand?"Chỉnh sửa thương hiệu":"Thêm thương hiệu mới"),v=e({get:()=>g.show,set:()=>f()}),h=i(g,"brand",{name:"",description:"",status:"",image:null,remove_image:!1}),U=s(g,"brand","image"),x=e(()=>({name:[{required:"Tên thương hiệu là bắt buộc."},{max:[100,"Tên thương hiệu không được vượt quá 100 ký tự."]}],description:[{max:[500,"Mô tả không được vượt quá 500 ký tự."]}]}));function C(e){b("submit",e)}const y=e(()=>(g.statusEnums||[]).map(e=>({value:e.value,label:e.label})));function f(){b("cancel")}return(e,i,s,c)=>{i(m(n,a({modelValue:v.value,"onUpdate:modelValue":e=>v.value=e,title:V.value,loading:r.loading},c),{default:l((e,a,n,i)=>{if(!a)return[t(u,{"default-values":o(h),rules:x.value,"api-errors":r.apiErrors,"submit-text":r.brand?"Cập nhật":"Thêm mới",onSubmit:C,onCancel:f},{default:l(({form:e,errors:a,clearError:l,isSubmitting:r})=>[t(d,{modelValue:e.name,"onUpdate:modelValue":[a=>e.name=a,e=>l("name")],label:"Tên thương hiệu",name:"name",error:a.name,required:"",autocomplete:"organization"},null,8,["modelValue","onUpdate:modelValue","error"]),t(d,{modelValue:e.description,"onUpdate:modelValue":[a=>e.description=a,e=>l("description")],label:"Mô tả",name:"description",type:"textarea",error:a.description,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),t("div",null,[t("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"brand-image"},"Logo"),t(p,{modelValue:e.image,"onUpdate:modelValue":a=>e.image=a,"default-url":o(U),onRemove:a=>e.remove_image=!0},null,8,["modelValue","onUpdate:modelValue","default-url","onRemove"])]),t(d,{modelValue:e.status,"onUpdate:modelValue":[a=>e.status=a,e=>l("status")],label:"Trạng thái",name:"status",type:"select",options:y.value,error:a.status},null,8,["modelValue","onUpdate:modelValue","options","error"])]),_:1},8,["default-values","rules","api-errors","submit-text"])];a(m(u,{"default-values":o(h),rules:x.value,"api-errors":r.apiErrors,"submit-text":r.brand?"Cập nhật":"Thêm mới",onSubmit:C,onCancel:f},{default:l(({form:e,errors:a,clearError:l,isSubmitting:r},n,u,i)=>{if(!n)return[t(d,{modelValue:e.name,"onUpdate:modelValue":[a=>e.name=a,e=>l("name")],label:"Tên thương hiệu",name:"name",error:a.name,required:"",autocomplete:"organization"},null,8,["modelValue","onUpdate:modelValue","error"]),t(d,{modelValue:e.description,"onUpdate:modelValue":[a=>e.description=a,e=>l("description")],label:"Mô tả",name:"description",type:"textarea",error:a.description,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),t("div",null,[t("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"brand-image"},"Logo"),t(p,{modelValue:e.image,"onUpdate:modelValue":a=>e.image=a,"default-url":o(U),onRemove:a=>e.remove_image=!0},null,8,["modelValue","onUpdate:modelValue","default-url","onRemove"])]),t(d,{modelValue:e.status,"onUpdate:modelValue":[a=>e.status=a,e=>l("status")],label:"Trạng thái",name:"status",type:"select",options:y.value,error:a.status},null,8,["modelValue","onUpdate:modelValue","options","error"])];n(m(d,{modelValue:e.name,"onUpdate:modelValue":[a=>e.name=a,e=>l("name")],label:"Tên thương hiệu",name:"name",error:a.name,required:"",autocomplete:"organization"},null,u,i)),n(m(d,{modelValue:e.description,"onUpdate:modelValue":[a=>e.description=a,e=>l("description")],label:"Mô tả",name:"description",type:"textarea",error:a.description,autocomplete:"off"},null,u,i)),n(`<div${i}><label class="block text-sm font-medium text-gray-700 mb-1" for="brand-image"${i}>Logo</label>`),n(m(p,{modelValue:e.image,"onUpdate:modelValue":a=>e.image=a,"default-url":o(U),onRemove:a=>e.remove_image=!0},null,u,i)),n("</div>"),n(m(d,{modelValue:e.status,"onUpdate:modelValue":[a=>e.status=a,e=>l("status")],label:"Trạng thái",name:"status",type:"select",options:y.value,error:a.status},null,u,i))}),_:1},n,i))}),_:1},s))}}},g=c.setup;c.setup=(e,a)=>{const l=r();return(l.modules||(l.modules=new Set)).add("pages/admin/Brands/form.vue"),g?g(e,a):void 0};export{c as default};
