import{ssrRenderAttrs as e,ssrRenderComponent as r}from"vue/server-renderer";import o from"./form-sijxxLfu.mjs";import{p as s}from"./endpoints-B4pxijLT.mjs";import{ref as t,reactive as a,watch as n,useSSRContext as i}from"vue";import{s as m}from"./apiClient-CZcLLw7q.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./FormWrapper-BkWXOK5b.mjs";import"./FormField-C25kxm9c.mjs";import"axios";const p={__name:"create",__ssrInlineRender:!0,props:{show:Boolean,products:{type:Array,default:()=>[]},warehouses:{type:Array,default:()=>[]},onClose:Function},emits:["created"],setup(i,{emit:p}){const c=i,d=p,l=t(!1),v=a({});async function u(e){try{Object.keys(v).forEach(e=>delete v[e]),await m.post(s.inventory.create,e),d("created"),c.onClose()}catch(e){if(422===e.response?.status&&e.response?.data?.errors){const r=e.response.data.errors;for(const e in r)Array.isArray(r[e])?v[e]=r[e][0]:v[e]=r[e]}}}function f(){c.onClose&&c.onClose()}return n(()=>c.show,e=>{l.value=e,e&&Object.keys(v).forEach(e=>delete v[e])},{immediate:!0}),(s,t,a,n)=>{t(`<div${e(n)}>`),l.value?t(r(o,{show:l.value,"api-errors":v,products:i.products,warehouses:i.warehouses,onSubmit:u,onCancel:f},null,a)):t("\x3c!----\x3e"),t("</div>")}}},c=p.setup;p.setup=(e,r)=>{const o=i();return(o.modules||(o.modules=new Set)).add("pages/admin/inventory/create.vue"),c?c(e,r):void 0};export{p as default};
