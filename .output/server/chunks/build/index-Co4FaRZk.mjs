import{ref as t,reactive as e,mergeProps as r,useSSRContext as s}from"vue";import{ssrRenderAttrs as a,ssrRenderList as i,ssrInterpolate as n,ssrRenderClass as o,ssrRenderComponent as p}from"vue/server-renderer";import d from"./ShippingServiceForm-7GfxN1Bi.mjs";import{c}from"./enums-Bz77BRzt.mjs";import{p as u}from"./endpoints-B4pxijLT.mjs";import{E as l}from"./useApiClient-LtAAs9ek.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"axios";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";const x={__name:"index",__ssrInlineRender:!0,setup(s){const x=l(),m=t([]),g=t([]),y=t(!1),f=t(!1),w=t(!1),b=t(null),$=e({});async function h(){y.value=!0;try{const t=await x.get(u.shippingServices.list);m.value=t.data.data}finally{y.value=!1}}function v(t){return null==t?"":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)}function p$1(){f.value=!1,w.value=!1,b.value=null}async function k(t){try{await x.post(u.shippingServices.create,t),await h(),p$1()}catch(t){if(422===t.response?.status&&t.response?.data?.errors){const e=t.response.data.errors;for(const t in e)$[t]=e[t][0]}}}async function _(t){try{const e={...t,_method:"PUT"};await x.post(u.shippingServices.update(b.value.id),e),await h(),p$1()}catch(t){if(422===t.response?.status&&t.response?.data?.errors){const e=t.response.data.errors;for(const t in e)$[t]=e[t][0]}}}function E$1(t){return"active"===t?"bg-green-100 text-green-800":"inactive"===t?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}return(t,e,s,u)=>{e(`<div${a(r({class:"container mx-auto p-4"},u))}><div class="flex justify-between items-center mb-6"><h1 class="text-2xl font-bold">Quản lý dịch vụ vận chuyển</h1><button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none"> Thêm dịch vụ mới </button></div><div class="bg-white shadow-md rounded-lg overflow-hidden"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tên dịch vụ</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mã dịch vụ</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Provider</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Base Price</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Weight Fee</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estimated Days</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Trạng thái</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Thao tác</th></tr></thead><tbody class="bg-white divide-y divide-gray-200">\x3c!--[--\x3e`),i(m.value,t=>{e(`<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${n(t.name)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${n(t.code)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${n(function(t){const e=g.value.find(e=>e.id==t);return e?e.name:""}(t.provider_id))}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${n(v(t.base_price))}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${n(v(t.weight_fee))}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${n(t.estimated_days)}</td><td class="px-6 py-4 whitespace-nowrap"><span class="${o([E$1(t.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])}">${n(function(t){return c("basic_status",t)||t||"Không xác định"}(t.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><button class="text-indigo-600 hover:text-indigo-900 mr-3"> Sửa </button><button class="text-red-600 hover:text-red-900"> Xóa </button></td></tr>`)}),e("\x3c!--]--\x3e"),0===m.value.length?e(`<tr><td colspan="8" class="px-6 py-4 text-center text-gray-500">${n(y.value?"Đang tải dữ liệu...":"Không có dữ liệu")}</td></tr>`):e("\x3c!----\x3e"),e("</tbody></table></div>"),f.value?e(p(d,{show:f.value,providers:g.value,"api-errors":$,mode:"create",onSubmit:k,onCancel:p$1},null,s)):e("\x3c!----\x3e"),w.value?e(p(d,{show:w.value,service:b.value,providers:g.value,"api-errors":$,mode:"edit",onSubmit:_,onCancel:p$1},null,s)):e("\x3c!----\x3e"),e("</div>")}}},m=x.setup;x.setup=(t,e)=>{const r=s();return(r.modules||(r.modules=new Set)).add("pages/admin/shipping/Services/index.vue"),m?m(t,e):void 0};export{x as default};
