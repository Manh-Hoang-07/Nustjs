import{computed as e,mergeProps as l,useSSRContext as t}from"vue";import{ssrRenderAttrs as a,ssrRenderAttr as r,ssrRenderClass as d,ssrInterpolate as o,ssrIncludeBooleanAttr as u,ssrRenderList as i,ssrRenderSlot as s}from"vue/server-renderer";const n={__name:"CoreFormField",__ssrInlineRender:!0,props:{modelValue:{type:[String,Number,Boolean,Array,Object],default:""},label:{type:String,default:""},type:{type:String,default:"text"},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:String,default:""},helpText:{type:String,default:""},maxlength:{type:[Number,String],default:void 0},min:{type:[Number,String],default:void 0},max:{type:[Number,String],default:void 0},rows:{type:[Number,String],default:3},options:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},checkboxLabel:{type:String,default:""},labelClass:{type:String,default:""},inputClass:{type:String,default:""},autocomplete:{type:String,default:void 0}},emits:["update:modelValue"],setup(t,{emit:n}){const p=t,m=n,c=e(()=>p.id||`field-${p.name||Math.random().toString(36).substring(2,9)}`);function g(e){if(!e)return;let l;if(p.multiple&&"select"===p.type){const t=e.target,a=[];for(let e=0;e<t.options.length;e++)t.options[e].selected&&a.push(t.options[e].value);l=a}else l="checkbox"===p.type?e.target.checked:"radio"===p.type?e:e.target&&void 0!==e.target.value?e.target.value:"";m("update:modelValue",l)}return(e,n,p,m)=>{n(`<div${a(l({class:["form-field",{"has-error":!!t.error}]},m))}>`),t.label?(n(`<label${r("for",c.value)} class="${d([t.labelClass,"block text-sm font-medium mb-1"])}">${o(t.label)} `),t.required?n('<span class="text-red-500">*</span>'):n("\x3c!----\x3e"),n("</label>")):n("\x3c!----\x3e"),["text","email","password","number","tel","date","datetime-local"].includes(t.type)?n(`<input${r("id",c.value)}${r("name",t.name)}${r("type",t.type)}${r("value",t.modelValue)}${r("placeholder",t.placeholder)}${u(t.disabled)?" disabled":""}${r("maxlength",t.maxlength)}${r("min",t.min)}${r("max",t.max)}${r("autocomplete",t.autocomplete)} class="${d(["w-full px-4 py-2 border rounded-xl",t.error?"border-red-500":"border-gray-300",t.disabled?"bg-gray-100 cursor-not-allowed":"bg-white",t.inputClass])}">`):"textarea"===t.type?n(`<textarea${r("id",c.value)}${r("name",t.name)}${r("placeholder",t.placeholder)}${u(t.disabled)?" disabled":""}${r("maxlength",t.maxlength)}${r("rows",t.rows||3)} class="${d(["w-full px-4 py-2 border rounded-xl",t.error?"border-red-500":"border-gray-300",t.disabled?"bg-gray-100 cursor-not-allowed":"bg-white",t.inputClass])}">${o(t.modelValue)}</textarea>`):"select"===t.type?(n(`<select${r("id",c.value)}${r("name",t.name)}${r("value",t.modelValue)}${u(t.disabled)?" disabled":""}${u(t.multiple)?" multiple":""} class="${d(["w-full px-4 py-2 border rounded-xl",t.error?"border-red-500":"border-gray-300",t.disabled?"bg-gray-100 cursor-not-allowed":"bg-white",t.multiple?"min-h-[120px]":"",t.inputClass])}">`),t.placeholder&&!t.multiple?n(`<option value="">${o(t.placeholder)}</option>`):n("\x3c!----\x3e"),n("\x3c!--[--\x3e"),i(t.options,e=>{n(`<option${r("value",e.value)}${u(t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.includes(e.value))?" selected":""}>${o(e.label)}</option>`)}),n("\x3c!--]--\x3e</select>")):"checkbox"===t.type?n(`<div class="flex items-center"><input${r("id",c.value)}${r("name",t.name)} type="checkbox"${u(!!t.modelValue)?" checked":""}${u(t.disabled)?" disabled":""} class="h-4 w-4 text-blue-600 border-gray-300 rounded"><label${r("for",c.value)} class="ml-2 block text-sm text-gray-700">${o(t.checkboxLabel||t.label)}</label></div>`):"radio"===t.type?(n('<div class="space-y-2">\x3c!--[--\x3e'),i(t.options,e=>{n(`<div class="flex items-center"><input${r("id",`${c.value}-${e.value}`)}${r("name",t.name)} type="radio"${r("value",e.value)}${u(t.modelValue===e.value)?" checked":""}${u(t.disabled)?" disabled":""} class="h-4 w-4 text-blue-600 border-gray-300"><label${r("for",`${c.value}-${e.value}`)} class="ml-2 block text-sm text-gray-700">${o(e.label)}</label></div>`)}),n("\x3c!--]--\x3e</div>")):s(e.$slots,"default",{error:t.error,value:t.modelValue,updateValue:g},null,n,p),t.helpText?n(`<div class="mt-1 text-sm text-gray-500">${o(t.helpText)}</div>`):n("\x3c!----\x3e"),t.error?n(`<div class="text-red-500 text-sm mt-1">${o(t.error)}</div>`):n("\x3c!----\x3e"),n("</div>")}}},p=n.setup;n.setup=(e,l)=>{const a=t();return(a.modules||(a.modules=new Set)).add("components/Core/Form/FormField.vue"),p?p(e,l):void 0};export{n as $};
