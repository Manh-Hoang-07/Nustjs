import{ref as e,mergeProps as a,useSSRContext as t}from"vue";import{ssrRenderAttrs as r,ssrRenderAttr as s,ssrIncludeBooleanAttr as d,ssrLooseContain as l,ssrLooseEqual as o,ssrRenderList as i,ssrInterpolate as u,ssrRenderClass as n,ssrRenderComponent as v}from"vue/server-renderer";import{i as c}from"./Actions-B-4SIiXX.mjs";import{s as f}from"./_plugin-vue_export-helper-DlAUqK2U.mjs";const g={__name:"index",__ssrInlineRender:!0,setup(t){const f=e([]),g=e(!1),p=e(!1),y=e(null),x=e({search:"",status:"",category:""}),b=e({title:"",excerpt:"",content:"",category:"news",status:"draft"}),m=e=>{y.value=e,b.value={...e},p.value=!0};return(e,t,y,h)=>{t(`<div${r(a({class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 p-6"},h))} data-v-84a536fe><div class="flex justify-between items-center mb-6" data-v-84a536fe><h1 class="text-2xl font-bold" data-v-84a536fe>Quản lý bài đăng</h1><button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors" data-v-84a536fe> Thêm bài đăng </button></div><div class="bg-white p-4 rounded-lg shadow mb-6" data-v-84a536fe><div class="grid grid-cols-1 md:grid-cols-4 gap-4" data-v-84a536fe><input${s("value",x.value.search)} type="text" placeholder="Tìm kiếm bài đăng..." class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-84a536fe><select class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-84a536fe><option value="" data-v-84a536fe${d(Array.isArray(x.value.status)?l(x.value.status,""):o(x.value.status,""))?" selected":""}>Tất cả trạng thái</option><option value="published" data-v-84a536fe${d(Array.isArray(x.value.status)?l(x.value.status,"published"):o(x.value.status,"published"))?" selected":""}>Đã xuất bản</option><option value="draft" data-v-84a536fe${d(Array.isArray(x.value.status)?l(x.value.status,"draft"):o(x.value.status,"draft"))?" selected":""}>Bản nháp</option><option value="archived" data-v-84a536fe${d(Array.isArray(x.value.status)?l(x.value.status,"archived"):o(x.value.status,"archived"))?" selected":""}>Đã lưu trữ</option></select><select class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-84a536fe><option value="" data-v-84a536fe${d(Array.isArray(x.value.category)?l(x.value.category,""):o(x.value.category,""))?" selected":""}>Tất cả danh mục</option><option value="news" data-v-84a536fe${d(Array.isArray(x.value.category)?l(x.value.category,"news"):o(x.value.category,"news"))?" selected":""}>Tin tức</option><option value="tutorial" data-v-84a536fe${d(Array.isArray(x.value.category)?l(x.value.category,"tutorial"):o(x.value.category,"tutorial"))?" selected":""}>Hướng dẫn</option><option value="review" data-v-84a536fe${d(Array.isArray(x.value.category)?l(x.value.category,"review"):o(x.value.category,"review"))?" selected":""}>Đánh giá</option></select><button class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors" data-v-84a536fe> Lọc </button></div></div><div class="bg-white rounded-lg shadow overflow-hidden" data-v-84a536fe><div class="overflow-x-auto" data-v-84a536fe><table class="min-w-full divide-y divide-gray-200" data-v-84a536fe><thead class="bg-gray-50" data-v-84a536fe><tr data-v-84a536fe><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-84a536fe>Bài đăng</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-84a536fe>Tác giả</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-84a536fe>Danh mục</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-84a536fe>Trạng thái</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-84a536fe>Ngày tạo</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-84a536fe>Thao tác</th></tr></thead><tbody class="bg-white divide-y divide-gray-200" data-v-84a536fe>\x3c!--[--\x3e`),i(f.value,e=>{t(`<tr class="hover:bg-gray-50" data-v-84a536fe><td class="px-6 py-4 whitespace-nowrap" data-v-84a536fe><div class="flex items-center" data-v-84a536fe><div class="flex-shrink-0 h-10 w-10" data-v-84a536fe><img${s("src",e.featured_image||"/placeholder.jpg")}${s("alt",e.title)} class="h-10 w-10 rounded-lg object-cover" data-v-84a536fe></div><div class="ml-4" data-v-84a536fe><div class="text-sm font-medium text-gray-900" data-v-84a536fe>${u(e.title)}</div><div class="text-sm text-gray-500" data-v-84a536fe>${u(e.excerpt)}</div></div></div></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-v-84a536fe>${u(e.author?.name||"Admin")}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-v-84a536fe>${u(e.category)}</td><td class="px-6 py-4 whitespace-nowrap" data-v-84a536fe><span class="${n({"px-2 inline-flex text-xs leading-5 font-semibold rounded-full":!0,"bg-green-100 text-green-800":"published"===e.status,"bg-yellow-100 text-yellow-800":"draft"===e.status,"bg-gray-100 text-gray-800":"archived"===e.status})}" data-v-84a536fe>${u((e=>({published:"Đã xuất bản",draft:"Bản nháp",archived:"Đã lưu trữ"}[e]||e))(e.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900" data-v-84a536fe>${u((e=>new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e)))(e.created_at))}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-v-84a536fe>`),t(v(c,{item:e,onEdit:m,onDelete:e=>(async e=>{if(confirm("Bạn có chắc chắn muốn xóa bài đăng này?"))try{const a=f.value.findIndex(a=>a.id===e);a>-1&&f.value.splice(a,1)}catch{}})(e.id)},null,y)),t("</td></tr>")}),t("\x3c!--]--\x3e</tbody></table></div></div>"),g.value||p.value?t(`<div class="fixed inset-0 flex items-center justify-center" data-v-84a536fe><div class="fixed inset-0 z-40 bg-white bg-opacity-10 backdrop-blur-md" data-v-84a536fe></div><div class="relative z-50 bg-white rounded-lg shadow-lg p-8 w-full max-w-md" data-v-84a536fe><div class="mt-3" data-v-84a536fe><h3 class="text-lg font-medium text-gray-900 mb-4" data-v-84a536fe>${u(p.value?"Sửa bài đăng":"Thêm bài đăng")}</h3><form data-v-84a536fe><div class="space-y-4" data-v-84a536fe><div data-v-84a536fe><label class="block text-sm font-medium text-gray-700" data-v-84a536fe>Tiêu đề</label><input${s("value",b.value.title)} type="text" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-84a536fe></div><div data-v-84a536fe><label class="block text-sm font-medium text-gray-700" data-v-84a536fe>Tóm tắt</label><textarea rows="3" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-84a536fe>${u(b.value.excerpt)}</textarea></div><div data-v-84a536fe><label class="block text-sm font-medium text-gray-700" data-v-84a536fe>Nội dung</label><textarea rows="6" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-84a536fe>${u(b.value.content)}</textarea></div><div data-v-84a536fe><label class="block text-sm font-medium text-gray-700" data-v-84a536fe>Danh mục</label><select class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-84a536fe><option value="news" data-v-84a536fe${d(Array.isArray(b.value.category)?l(b.value.category,"news"):o(b.value.category,"news"))?" selected":""}>Tin tức</option><option value="tutorial" data-v-84a536fe${d(Array.isArray(b.value.category)?l(b.value.category,"tutorial"):o(b.value.category,"tutorial"))?" selected":""}>Hướng dẫn</option><option value="review" data-v-84a536fe${d(Array.isArray(b.value.category)?l(b.value.category,"review"):o(b.value.category,"review"))?" selected":""}>Đánh giá</option></select></div><div data-v-84a536fe><label class="block text-sm font-medium text-gray-700" data-v-84a536fe>Trạng thái</label><select class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" data-v-84a536fe><option value="draft" data-v-84a536fe${d(Array.isArray(b.value.status)?l(b.value.status,"draft"):o(b.value.status,"draft"))?" selected":""}>Bản nháp</option><option value="published" data-v-84a536fe${d(Array.isArray(b.value.status)?l(b.value.status,"published"):o(b.value.status,"published"))?" selected":""}>Xuất bản</option><option value="archived" data-v-84a536fe${d(Array.isArray(b.value.status)?l(b.value.status,"archived"):o(b.value.status,"archived"))?" selected":""}>Lưu trữ</option></select></div></div><div class="flex justify-end space-x-3 mt-6" data-v-84a536fe><button type="button" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50" data-v-84a536fe> Hủy </button><button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600" data-v-84a536fe>${u(p.value?"Cập nhật":"Thêm")}</button></div></form></div></div></div>`):t("\x3c!----\x3e"),t("</div>")}}},p=g.setup;g.setup=(e,a)=>{const r=t();return(r.modules||(r.modules=new Set)).add("pages/admin/Posts/index.vue"),p?p(e,a):void 0};const y=f(g,[["__scopeId","data-v-84a536fe"]]);export{y as default};
