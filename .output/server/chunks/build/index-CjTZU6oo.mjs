import{defineAsyncComponent as e,ref as t,mergeProps as a,unref as s,useSSRContext as r}from"vue";import{ssrRenderAttrs as n,ssrRenderComponent as i,ssrRenderList as o,ssrInterpolate as c,ssrRenderClass as d,ssrIncludeBooleanAttr as l}from"vue/server-renderer";import{s as p,r as x,d as u}from"./SkeletonLoader-CWl9hP-i.mjs";import{m}from"./ConfirmModal-CltOniOu.mjs";import{i as h}from"./Actions-B-4SIiXX.mjs";import{c as v}from"./enums-Bz77BRzt.mjs";import{p as g}from"./endpoints-B4pxijLT.mjs";import{n as b}from"./formatDate--we3hgSr.mjs";import{s as f}from"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./useApiClient-LtAAs9ek.mjs";import"axios";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";import"./Modal-CcMmmM3q.mjs";const y={__name:"index",__ssrInlineRender:!0,setup(r){const f=e(()=>import("./create-broUy7i3.mjs")),y=e(()=>import("./edit-D1bQuplM.mjs")),_=e(()=>import("./filter-BpuvCOUE.mjs")),{items:C,loading:T,pagination:K,filters:B,fetchData:D,updateFilters:S,deleteItem:I}=p(g.warehouses.list,{defaultFilters:{search:"",status:"",sort_by:"created_at_desc"}}),{showSuccess:M,showError:E}=u(),O=t(null),X=t(!1),q=t(!1),z=t(!1);function R(e){S(e)}function w(){X.value=!1}function F(e){O.value=e,q.value=!0}function $(){q.value=!1,O.value=null}function L(e){O.value=e,z.value=!0}function k(){z.value=!1,O.value=null}async function A(){await D(),w(),M("Kho hàng đã được tạo thành công")}async function U(){await D(),$(),M("Kho hàng đã được cập nhật thành công")}async function j(){try{await I(O.value.id),k(),M("Kho hàng đã được xóa thành công")}catch{E("Không thể xóa kho hàng")}}function H(e){return"active"===e?"bg-green-100 text-green-800":"inactive"===e?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}return(e,t,r,p)=>{t(`<div${n(a({class:"container mx-auto p-4"},p))} data-v-e03ece4b><div class="flex justify-between items-center mb-6" data-v-e03ece4b><h1 class="text-2xl font-bold" data-v-e03ece4b>Quản lý kho hàng</h1><button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none" data-v-e03ece4b> Thêm kho hàng mới </button></div>`),t(i(s(_),{"initial-filters":s(B),"onUpdate:filters":R},null,r)),t('<div class="bg-white shadow-md rounded-lg overflow-hidden" data-v-e03ece4b>'),s(T)?t(i(x,{type:"table",rows:5,columns:10},null,r)):(t('<table class="min-w-full divide-y divide-gray-200" data-v-e03ece4b><thead class="bg-gray-50" data-v-e03ece4b><tr data-v-e03ece4b><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>ID</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Tên kho</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Địa chỉ</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Thành phố</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Tỉnh/Thành</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Số điện thoại</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Email</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Trạng thái</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Ngày tạo</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-e03ece4b>Thao tác</th></tr></thead><tbody class="bg-white divide-y divide-gray-200" data-v-e03ece4b>\x3c!--[--\x3e'),o(s(C),e=>{t(`<tr data-v-e03ece4b><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-e03ece4b>${c(e.id)}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900" data-v-e03ece4b>${c(e.name)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-e03ece4b>${c(e.address)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-e03ece4b>${c(e.city)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-e03ece4b>${c(e.province)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-e03ece4b>${c(e.phone)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-e03ece4b>${c(e.email)}</td><td class="px-6 py-4 whitespace-nowrap" data-v-e03ece4b><span class="${d([H(e.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])}" data-v-e03ece4b>${c(function(e){return v("basic_status",e)||e||"Không xác định"}(e.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-e03ece4b>${c(s(b)(e.created_at))}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-v-e03ece4b>`),t(i(h,{item:e,onEdit:F,onDelete:L},null,r)),t("</td></tr>")}),t("\x3c!--]--\x3e"),0===s(C).length?t('<tr data-v-e03ece4b><td colspan="10" class="px-6 py-4 text-center text-gray-500" data-v-e03ece4b> Không có dữ liệu </td></tr>'):t("\x3c!----\x3e"),t("</tbody></table>")),t("</div>"),s(C).length>0?(t(`<div class="mt-4 flex justify-between items-center" data-v-e03ece4b><div class="text-sm text-gray-700" data-v-e03ece4b> Hiển thị ${c(s(K).from||0)} đến ${c(s(K).to||0)} trên tổng số ${c(s(K).total||0)} bản ghi </div><div class="flex space-x-1" data-v-e03ece4b>\x3c!--[--\x3e`),o(s(K).links,e=>{t(`<button${l(!e.url)?" disabled":""} class="${d(["px-3 py-1 border rounded",e.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50",!e.url&&"opacity-50 cursor-not-allowed"])}" data-v-e03ece4b>${e.label??""}</button>`)}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),X.value?t(i(s(f),{show:X.value,"on-close":w,onCreated:A},null,r)):t("\x3c!----\x3e"),q.value?t(i(s(y),{show:q.value,warehouse:O.value,"on-close":$,onUpdated:U},null,r)):t("\x3c!----\x3e"),z.value?t(i(m,{show:z.value,title:"Xác nhận xóa",message:`Bạn có chắc chắn muốn xóa kho hàng ${O.value?.name||""}?`,"on-close":k,onConfirm:j},null,r)):t("\x3c!----\x3e"),t("</div>")}}},_=y.setup;y.setup=(e,t)=>{const a=r();return(a.modules||(a.modules=new Set)).add("pages/admin/warehouses/index.vue"),_?_(e,t):void 0};const C=f(y,[["__scopeId","data-v-e03ece4b"]]);export{C as default};
