import{defineComponent as e,shallowRef as t,h as r,resolveComponent as u,computed as l}from"vue";import{y as i,k as n,m as o,z as s,A as v}from"../_/nitro.mjs";import{a as c,b as d,c as f,r as h,n as g,d as y}from"./server.mjs";const m=function(s){const v=s.componentName||"NuxtLink";function p(e){return"string"==typeof e&&e.startsWith("#")}function q(e){const t=c(),r=f(),i=l(()=>!!e.target&&"_self"!==e.target),v=l(()=>{const t=e.to||e.href||"";return"string"==typeof t&&n(t,{acceptRelative:!0})}),d=u("RouterLink"),y=d&&"string"!=typeof d?d.useLink:void 0,m=l(()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||v.value)}),S=l(()=>{const r=e.to||e.href||"";return m.value?r:function(e,t,r){const u=r??s.trailingSlash;if(!e||"append"!==u&&"remove"!==u)return e;if("string"==typeof e)return x(e,u);const l="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:x(l,u)}}(r,t.resolve,e.trailingSlash)}),A=m.value?void 0:y?.({...e,to:S}),C=l(()=>{const u=e.trailingSlash??s.trailingSlash;if(!S.value||v.value||p(S.value))return S.value;if(m.value){const e="object"==typeof S.value&&"path"in S.value?h(S.value):S.value;return x("object"==typeof e?t.resolve(e).href:e,u)}return"object"==typeof S.value?t.resolve(S.value)?.href??null:x(o(r.app.baseURL,S.value),u)});return{to:S,hasTarget:i,isAbsoluteUrl:v,isExternal:m,href:C,isActive:A?.isActive??l(()=>S.value===t.currentRoute.value.path),isExactActive:A?.isExactActive??l(()=>S.value===t.currentRoute.value.path),route:A?.route??l(()=>t.resolve(S.value)),async navigate(t){await g(C.value,{replace:e.replace,external:m.value||i.value})}}}return e({name:v,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:q,setup(e,{slots:l}){const n=c(),{to:o,href:v,navigate:f,isExternal:h,hasTarget:g,isAbsoluteUrl:y}=q(e);t(!1);async function a(e=d()){}return()=>{if(!h.value&&!g.value&&!p(o.value)){const t={ref:undefined,to:o.value,activeClass:e.activeClass||s.activeClass,exactActiveClass:e.exactActiveClass||s.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(t.rel=e.rel||void 0),r(u("RouterLink"),t,l.default)}const t=e.target||null,c=((...e)=>e.find(e=>void 0!==e))(e.noRel?"":e.rel,s.externalRelAttribute,y.value||g.value?"noopener noreferrer":"")||null;return e.custom?l.default?l.default({href:v.value,navigate:f,prefetch:a,get route(){if(!v.value)return;const e=new URL(v.value,"http://localhost");return{path:e.pathname,fullPath:e.pathname,get query(){return i(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:v.value}},rel:c,target:t,isExternal:h.value||g.value,isActive:!1,isExactActive:!1}):null:r("a",{ref:undefined,href:v.value||null,rel:c,target:t,onClick:t=>{if(!h.value&&!g.value)return t.preventDefault(),e.replace?n.replace(v.value):n.push(v.value)}},l.default?.())}}})}(y);function x(e,t){const r="append"===t?s:v;return n(e)&&!e.startsWith("http")?e:r(e,!0)}export{m as W};
