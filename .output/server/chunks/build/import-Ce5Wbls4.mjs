import{ssrRenderAttrs as e,ssrRenderComponent as o}from"vue/server-renderer";import r from"./import-form-C6rPmka3.mjs";import{p as s}from"./endpoints-B4pxijLT.mjs";import{ref as t,reactive as m,watch as i,useSSRContext as n}from"vue";import{s as p}from"./apiClient-CZcLLw7q.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./FormWrapper-BkWXOK5b.mjs";import"./FormField-C25kxm9c.mjs";import"./useFormDefaults-CTfnk28m.mjs";import"axios";const a={__name:"import",__ssrInlineRender:!0,props:{show:Boolean,products:{type:Array,default:()=>[]},warehouses:{type:Array,default:()=>[]},onClose:Function},emits:["imported"],setup(n,{emit:a}){const d=n,l=a,c=t(!1),f=m({});async function u(e){try{Object.keys(f).forEach(e=>delete f[e]),await p.post(s.inventory.import,e),l("imported"),d.onClose()}catch(e){if(422===e.response?.status&&e.response?.data?.errors){const o=e.response.data.errors;for(const e in o)Array.isArray(o[e])?f[e]=o[e][0]:f[e]=o[e]}}}function f$1(){d.onClose&&d.onClose()}return i(()=>d.show,e=>{c.value=e,e&&Object.keys(f).forEach(e=>delete f[e])},{immediate:!0}),(s,t,m,i)=>{t(`<div${e(i)}>`),c.value?t(o(r,{show:c.value,"api-errors":f,products:n.products,warehouses:n.warehouses,onSubmit:u,onCancel:f$1},null,m)):t("\x3c!----\x3e"),t("</div>")}}},d=a.setup;a.setup=(e,o)=>{const r=n();return(r.modules||(r.modules=new Set)).add("pages/admin/inventory/import.vue"),d?d(e,o):void 0};export{a as default};
