import{W as e}from"./nuxt-link-BrHFEbC8.mjs";import{ref as a,mergeProps as t,unref as r,withCtx as l,createVNode as o,createBlock as d,createCommentVNode as i,openBlock as s,createTextVNode as n,toDisplayString as m,useSSRContext as u}from"vue";import{ssrRenderAttrs as p,ssrRenderStyle as b,ssrRenderComponent as v,ssrRenderClass as c,ssrInterpolate as f}from"vue/server-renderer";import{j as h}from"./FormWrapper-BkWXOK5b.mjs";import{$ as g}from"./FormField-C25kxm9c.mjs";import{F as x}from"./auth-FrVVqnud.mjs";import{n as w}from"./server.mjs";import{s as y}from"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"./useApiClient-LtAAs9ek.mjs";import"axios";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";const k={__name:"login",__ssrInlineRender:!0,setup(u){const y={email:"",password:"",remember:!1},k={email:[{required:"Email là bắt buộc"},{email:"Email không hợp lệ"}],password:[{required:"Mật khẩu là bắt buộc"},{min:[6,"Mật khẩu phải có ít nhất 6 ký tự"]}]},V=a({}),j=a(""),$=a(!1),U=x(),N=async e=>{if(!$.value){$.value=!0,j.value="",V.value={};try{const a=await U.login({email:e.email,password:e.password,remember:e.remember});a.success?U.isAdmin?await w("/admin"):await w("/user"):a.errors?V.value=a.errors:j.value=a.message||"Đăng nhập thất bại"}catch{j.value="Có lỗi xảy ra, vui lòng thử lại"}finally{$.value=!1}}};return(a,u,x,w)=>{const U=e;u(`<div${p(t({class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden"},w))} data-v-49fe1b2e><div class="absolute inset-0 overflow-hidden" data-v-49fe1b2e><div class="absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full opacity-10 blur-3xl" data-v-49fe1b2e></div><div class="absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-purple-400 to-pink-500 rounded-full opacity-10 blur-3xl" data-v-49fe1b2e></div><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-blue-300 to-indigo-400 rounded-full opacity-5 blur-3xl" data-v-49fe1b2e></div></div><div class="max-w-md w-full relative z-10" data-v-49fe1b2e><div class="text-center mb-8" data-v-49fe1b2e><div class="mx-auto h-20 w-20 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-3xl flex items-center justify-center mb-6 shadow-2xl transform hover:scale-105 transition-transform duration-300" data-v-49fe1b2e><svg class="h-10 w-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-49fe1b2e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-49fe1b2e></path></svg></div><h2 class="text-4xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-indigo-800 bg-clip-text text-transparent mb-3" data-v-49fe1b2e> Chào mừng trở lại </h2><p class="text-gray-600 text-lg" data-v-49fe1b2e> Đăng nhập vào tài khoản của bạn </p></div><div class="bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 relative overflow-hidden" data-v-49fe1b2e><div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500" data-v-49fe1b2e></div><div class="absolute top-4 right-4 w-2 h-2 bg-blue-400 rounded-full animate-pulse" data-v-49fe1b2e></div><div class="absolute bottom-4 left-4 w-3 h-3 bg-indigo-400 rounded-full animate-pulse" style="${b({"animation-delay":"0.5s"})}" data-v-49fe1b2e></div>`),u(v(h,{"default-values":y,rules:k,"api-errors":r(V),"show-cancel-button":!1,"disable-submit":r($),"submit-text":"Đăng nhập","submitting-text":"Đang đăng nhập...",onSubmit:N},{default:l(({form:e,errors:a,clearError:t,isSubmitting:l},u,p,b)=>{if(!u)return[o("div",{class:"space-y-6"},[o("div",{class:"space-y-2 group"},[o(g,{modelValue:e.email,"onUpdate:modelValue":[a=>e.email=a,e=>t("email")],name:"email",type:"email",label:"Email",placeholder:"Nhập email của bạn",error:a.email,disabled:r($),required:"",autocomplete:"email"},null,8,["modelValue","onUpdate:modelValue","error","disabled"])]),o("div",{class:"space-y-2 group"},[o(g,{modelValue:e.password,"onUpdate:modelValue":[a=>e.password=a,e=>t("password")],name:"password",type:"password",label:"Mật khẩu",placeholder:"Nhập mật khẩu của bạn",error:a.password,disabled:r($),required:"",autocomplete:"current-password"},null,8,["modelValue","onUpdate:modelValue","error","disabled"])]),o("div",{class:"flex items-center justify-between"},[o(g,{modelValue:e.remember,"onUpdate:modelValue":a=>e.remember=a,name:"remember",type:"checkbox","checkbox-label":"Ghi nhớ đăng nhập",disabled:r($)},null,8,["modelValue","onUpdate:modelValue","disabled"]),o("a",{href:"#",class:["text-sm font-medium text-blue-600 hover:text-blue-500 transition-all duration-200 hover:scale-105",{"pointer-events-none opacity-50":r($)}]}," Quên mật khẩu? ",2)]),r(j)?(s(),d("div",{key:0,class:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl text-sm backdrop-blur-sm"},[o("div",{class:"flex items-center"},[(s(),d("svg",{class:"h-5 w-5 mr-2 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])),n(" "+m(r(j)),1)])])):i("",!0)])];u(`<div class="space-y-6" data-v-49fe1b2e${b}><div class="space-y-2 group" data-v-49fe1b2e${b}>`),u(v(g,{modelValue:e.email,"onUpdate:modelValue":[a=>e.email=a,e=>t("email")],name:"email",type:"email",label:"Email",placeholder:"Nhập email của bạn",error:a.email,disabled:r($),required:"",autocomplete:"email"},null,p,b)),u(`</div><div class="space-y-2 group" data-v-49fe1b2e${b}>`),u(v(g,{modelValue:e.password,"onUpdate:modelValue":[a=>e.password=a,e=>t("password")],name:"password",type:"password",label:"Mật khẩu",placeholder:"Nhập mật khẩu của bạn",error:a.password,disabled:r($),required:"",autocomplete:"current-password"},null,p,b)),u(`</div><div class="flex items-center justify-between" data-v-49fe1b2e${b}>`),u(v(g,{modelValue:e.remember,"onUpdate:modelValue":a=>e.remember=a,name:"remember",type:"checkbox","checkbox-label":"Ghi nhớ đăng nhập",disabled:r($)},null,p,b)),u(`<a href="#" class="${c([{"pointer-events-none opacity-50":r($)},"text-sm font-medium text-blue-600 hover:text-blue-500 transition-all duration-200 hover:scale-105"])}" data-v-49fe1b2e${b}> Quên mật khẩu? </a></div>`),r(j)?u(`<div class="bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl text-sm backdrop-blur-sm" data-v-49fe1b2e${b}><div class="flex items-center" data-v-49fe1b2e${b}><svg class="h-5 w-5 mr-2 animate-pulse" fill="currentColor" viewBox="0 0 20 20" data-v-49fe1b2e${b}><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" data-v-49fe1b2e${b}></path></svg> ${f(r(j))}</div></div>`):u("\x3c!----\x3e"),u("</div>")}),_:1},x)),u('</div><div class="text-center mt-8" data-v-49fe1b2e><p class="text-gray-600" data-v-49fe1b2e> Chưa có tài khoản? '),u(v(U,{to:"/register",class:["font-semibold text-blue-600 hover:text-blue-500 transition-all duration-200 hover:scale-105 inline-block",{"pointer-events-none opacity-50":r($)}]},{default:l((e,a,t,r)=>{if(!a)return[n(" Đăng ký ngay ")];a(" Đăng ký ngay ")}),_:1},x)),u("</p></div></div></div>")}}},V=k.setup;k.setup=(e,a)=>{const t=u();return(t.modules||(t.modules=new Set)).add("pages/login.vue"),V?V(e,a):void 0};const j=y(k,[["__scopeId","data-v-49fe1b2e"]]);export{j as default};
