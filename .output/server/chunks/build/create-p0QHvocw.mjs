import{ssrRenderAttrs as e,ssrRenderComponent as r}from"vue/server-renderer";import o from"./form-dZmkuD3e.mjs";import{p as t}from"./endpoints-B4pxijLT.mjs";import{ref as s,reactive as n,watch as m,useSSRContext as i}from"vue";import{o as p}from"./enums-Bz77BRzt.mjs";import{E as a}from"./useApiClient-LtAAs9ek.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"axios";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";const u={__name:"create",__ssrInlineRender:!0,props:{show:Boolean,onClose:Function},emits:["created"],setup(i,{emit:u}){const d=a(),l=i,c=u,f=s(!1),h=n({}),j=s({});function v(){const e=p("order_status");j.value=e.map(e=>({value:e.value,label:e.label}))}async function C(e){try{Object.keys(h).forEach(e=>delete h[e]),await d.post(t.orders.create,e),c("created"),l.onClose()}catch(e){if(422===e.response?.status&&e.response?.data?.errors){const r=e.response.data.errors;for(const e in r)Array.isArray(r[e])?h[e]=r[e][0]:h[e]=r[e]}}}function _(){l.onClose&&l.onClose()}return m(()=>l.show,e=>{f.value=e,e&&(Object.keys(h).forEach(e=>delete h[e]),v())},{immediate:!0}),(t,s,n,m)=>{s(`<div${e(m)}>`),f.value?s(r(o,{show:f.value,"api-errors":h,"status-options":j.value,onSubmit:C,onCancel:_},null,n)):s("\x3c!----\x3e"),s("</div>")}}},d=u.setup;u.setup=(e,r)=>{const o=i();return(o.modules||(o.modules=new Set)).add("pages/admin/Orders/create.vue"),d?d(e,r):void 0};export{u as default};
