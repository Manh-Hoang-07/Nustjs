import{computed as e,mergeProps as l,withCtx as a,unref as r,createVNode as t,useSSRContext as o}from"vue";import{ssrRenderComponent as u}from"vue/server-renderer";import{R as i}from"./Modal-CcMmmM3q.mjs";import{j as s}from"./FormWrapper-BkWXOK5b.mjs";import{$ as n}from"./FormField-C25kxm9c.mjs";import{m as d}from"./useFormDefaults-CTfnk28m.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";const m={__name:"form",__ssrInlineRender:!0,props:{show:Boolean,attribute:Object,statusEnums:{type:Array,default:()=>[]},apiErrors:{type:Object,default:()=>({})}},emits:["submit","cancel"],setup(o,{emit:m}){const p=o,c=m,b=e(()=>p.attribute?"Chỉnh sửa thuộc tính":"Thêm thuộc tính mới"),V=e({get:()=>p.show,set:()=>v()}),h=d(p,"attribute",{name:"",type:"",description:"",is_required:!1,is_unique:!1,is_filterable:!0,is_searchable:!0,status:""}),_=e(()=>({name:[{required:"Tên thuộc tính là bắt buộc."},{max:[100,"Tên thuộc tính không được vượt quá 100 ký tự."]}],type:[{required:"Kiểu thuộc tính là bắt buộc."}],description:[{max:[255,"Mô tả không được vượt quá 255 ký tự."]}]})),f=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"select",label:"Select"},{value:"color",label:"Color"}],q=e(()=>(p.statusEnums||[]).map(e=>({value:e.value,label:e.label})));function $$1(e){c("submit",e)}function v(){c("cancel")}return(e,d,m,p)=>{d(u(i,l({modelValue:V.value,"onUpdate:modelValue":e=>V.value=e,title:b.value},p),{default:a((e,l,i,d)=>{if(!l)return[t(s,{"default-values":r(h),rules:_.value,"api-errors":o.apiErrors,"submit-text":o.attribute?"Cập nhật":"Thêm mới",onSubmit:$$1,onCancel:v},{default:a(({form:e,errors:l,clearError:a,isSubmitting:r})=>[t(n,{modelValue:e.name,"onUpdate:modelValue":[l=>e.name=l,e=>a("name")],label:"Tên thuộc tính",name:"name",error:l.name,required:"",autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),t(n,{modelValue:e.type,"onUpdate:modelValue":[l=>e.type=l,e=>a("type")],label:"Kiểu thuộc tính",name:"type",type:"select",options:f,error:l.type,required:""},null,8,["modelValue","onUpdate:modelValue","error"]),t(n,{modelValue:e.description,"onUpdate:modelValue":[l=>e.description=l,e=>a("description")],label:"Mô tả",name:"description",type:"textarea",error:l.description,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),t("div",{class:"grid grid-cols-2 gap-4"},[t(n,{modelValue:e.is_required,"onUpdate:modelValue":[l=>e.is_required=l,e=>a("is_required")],label:"Bắt buộc",name:"is_required",type:"checkbox",error:l.is_required},null,8,["modelValue","onUpdate:modelValue","error"]),t(n,{modelValue:e.is_unique,"onUpdate:modelValue":[l=>e.is_unique=l,e=>a("is_unique")],label:"Duy nhất",name:"is_unique",type:"checkbox",error:l.is_unique},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",{class:"grid grid-cols-2 gap-4"},[t(n,{modelValue:e.is_filterable,"onUpdate:modelValue":[l=>e.is_filterable=l,e=>a("is_filterable")],label:"Có thể lọc",name:"is_filterable",type:"checkbox",error:l.is_filterable},null,8,["modelValue","onUpdate:modelValue","error"]),t(n,{modelValue:e.is_searchable,"onUpdate:modelValue":[l=>e.is_searchable=l,e=>a("is_searchable")],label:"Có thể tìm kiếm",name:"is_searchable",type:"checkbox",error:l.is_searchable},null,8,["modelValue","onUpdate:modelValue","error"])]),t(n,{modelValue:e.status,"onUpdate:modelValue":[l=>e.status=l,e=>a("status")],label:"Trạng thái",name:"status",type:"select",options:q.value,error:l.status},null,8,["modelValue","onUpdate:modelValue","options","error"])]),_:1},8,["default-values","rules","api-errors","submit-text"])];l(u(s,{"default-values":r(h),rules:_.value,"api-errors":o.apiErrors,"submit-text":o.attribute?"Cập nhật":"Thêm mới",onSubmit:$$1,onCancel:v},{default:a(({form:e,errors:l,clearError:a,isSubmitting:r},o,i,s)=>{if(!o)return[t(n,{modelValue:e.name,"onUpdate:modelValue":[l=>e.name=l,e=>a("name")],label:"Tên thuộc tính",name:"name",error:l.name,required:"",autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),t(n,{modelValue:e.type,"onUpdate:modelValue":[l=>e.type=l,e=>a("type")],label:"Kiểu thuộc tính",name:"type",type:"select",options:f,error:l.type,required:""},null,8,["modelValue","onUpdate:modelValue","error"]),t(n,{modelValue:e.description,"onUpdate:modelValue":[l=>e.description=l,e=>a("description")],label:"Mô tả",name:"description",type:"textarea",error:l.description,autocomplete:"off"},null,8,["modelValue","onUpdate:modelValue","error"]),t("div",{class:"grid grid-cols-2 gap-4"},[t(n,{modelValue:e.is_required,"onUpdate:modelValue":[l=>e.is_required=l,e=>a("is_required")],label:"Bắt buộc",name:"is_required",type:"checkbox",error:l.is_required},null,8,["modelValue","onUpdate:modelValue","error"]),t(n,{modelValue:e.is_unique,"onUpdate:modelValue":[l=>e.is_unique=l,e=>a("is_unique")],label:"Duy nhất",name:"is_unique",type:"checkbox",error:l.is_unique},null,8,["modelValue","onUpdate:modelValue","error"])]),t("div",{class:"grid grid-cols-2 gap-4"},[t(n,{modelValue:e.is_filterable,"onUpdate:modelValue":[l=>e.is_filterable=l,e=>a("is_filterable")],label:"Có thể lọc",name:"is_filterable",type:"checkbox",error:l.is_filterable},null,8,["modelValue","onUpdate:modelValue","error"]),t(n,{modelValue:e.is_searchable,"onUpdate:modelValue":[l=>e.is_searchable=l,e=>a("is_searchable")],label:"Có thể tìm kiếm",name:"is_searchable",type:"checkbox",error:l.is_searchable},null,8,["modelValue","onUpdate:modelValue","error"])]),t(n,{modelValue:e.status,"onUpdate:modelValue":[l=>e.status=l,e=>a("status")],label:"Trạng thái",name:"status",type:"select",options:q.value,error:l.status},null,8,["modelValue","onUpdate:modelValue","options","error"])];o(u(n,{modelValue:e.name,"onUpdate:modelValue":[l=>e.name=l,e=>a("name")],label:"Tên thuộc tính",name:"name",error:l.name,required:"",autocomplete:"off"},null,i,s)),o(u(n,{modelValue:e.type,"onUpdate:modelValue":[l=>e.type=l,e=>a("type")],label:"Kiểu thuộc tính",name:"type",type:"select",options:f,error:l.type,required:""},null,i,s)),o(u(n,{modelValue:e.description,"onUpdate:modelValue":[l=>e.description=l,e=>a("description")],label:"Mô tả",name:"description",type:"textarea",error:l.description,autocomplete:"off"},null,i,s)),o(`<div class="grid grid-cols-2 gap-4"${s}>`),o(u(n,{modelValue:e.is_required,"onUpdate:modelValue":[l=>e.is_required=l,e=>a("is_required")],label:"Bắt buộc",name:"is_required",type:"checkbox",error:l.is_required},null,i,s)),o(u(n,{modelValue:e.is_unique,"onUpdate:modelValue":[l=>e.is_unique=l,e=>a("is_unique")],label:"Duy nhất",name:"is_unique",type:"checkbox",error:l.is_unique},null,i,s)),o(`</div><div class="grid grid-cols-2 gap-4"${s}>`),o(u(n,{modelValue:e.is_filterable,"onUpdate:modelValue":[l=>e.is_filterable=l,e=>a("is_filterable")],label:"Có thể lọc",name:"is_filterable",type:"checkbox",error:l.is_filterable},null,i,s)),o(u(n,{modelValue:e.is_searchable,"onUpdate:modelValue":[l=>e.is_searchable=l,e=>a("is_searchable")],label:"Có thể tìm kiếm",name:"is_searchable",type:"checkbox",error:l.is_searchable},null,i,s)),o("</div>"),o(u(n,{modelValue:e.status,"onUpdate:modelValue":[l=>e.status=l,e=>a("status")],label:"Trạng thái",name:"status",type:"select",options:q.value,error:l.status},null,i,s))}),_:1},i,d))}),_:1},m))}}},p=m.setup;m.setup=(e,l)=>{const a=o();return(a.modules||(a.modules=new Set)).add("pages/admin/Attributes/form.vue"),p?p(e,l):void 0};export{m as default};
