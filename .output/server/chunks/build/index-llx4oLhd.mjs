import{defineAsyncComponent as t,ref as e,mergeProps as a,unref as d,useSSRContext as s}from"vue";import{ssrRenderAttrs as r,ssrRenderComponent as n,ssrRenderList as i,ssrInterpolate as o,ssrRenderClass as l,ssrIncludeBooleanAttr as p}from"vue/server-renderer";import{s as c,r as x,d as u}from"./SkeletonLoader-CWl9hP-i.mjs";import{m}from"./ConfirmModal-CltOniOu.mjs";import{i as h}from"./Actions-B-4SIiXX.mjs";import{c as f}from"./enums-Bz77BRzt.mjs";import{p as v}from"./endpoints-B4pxijLT.mjs";import{n as g}from"./formatDate--we3hgSr.mjs";import{s as y}from"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./useApiClient-LtAAs9ek.mjs";import"axios";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";import"./Modal-CcMmmM3q.mjs";const w={__name:"index",__ssrInlineRender:!0,setup(s){const y=t(()=>import("./create-B4olHngp.mjs")),w=t(()=>import("./edit-BCf7rpzN.mjs")),_=t(()=>import("./filter-BIlm17RV.mjs")),{items:B,loading:C,pagination:T,filters:K,fetchData:I,updateFilters:S,deleteItem:D}=c(v.warehouses.list,{defaultFilters:{search:"",status:"",sort_by:"created_at_desc"}}),{showSuccess:M,showError:z}=u(),E=e(null),X=e(!1),q=e(!1),N=e(!1);function R(t){S(t)}function b(){X.value=!1}function F(t){E.value=t,q.value=!0}function $(){q.value=!1,E.value=null}function L(t){E.value=t,N.value=!0}function k(){N.value=!1,E.value=null}async function A(){await I(),b(),M("Kho hàng đã được tạo thành công")}async function U(){await I(),$(),M("Kho hàng đã được cập nhật thành công")}async function j(){try{await D(E.value.id),k(),M("Kho hàng đã được xóa thành công")}catch{z("Không thể xóa kho hàng")}}function H(t){return"active"===t?"bg-green-100 text-green-800":"inactive"===t?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}return(t,e,s,c)=>{e(`<div${r(a({class:"container mx-auto p-4"},c))} data-v-d1edf380><div class="flex justify-between items-center mb-6" data-v-d1edf380><h1 class="text-2xl font-bold" data-v-d1edf380>Quản lý kho hàng</h1><button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none" data-v-d1edf380> Thêm kho hàng mới </button></div>`),e(n(d(_),{"initial-filters":d(K),"onUpdate:filters":R},null,s)),e('<div class="bg-white shadow-md rounded-lg overflow-hidden" data-v-d1edf380>'),d(C)?e(n(x,{type:"table",rows:5,columns:10},null,s)):(e('<table class="min-w-full divide-y divide-gray-200" data-v-d1edf380><thead class="bg-gray-50" data-v-d1edf380><tr data-v-d1edf380><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>ID</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Tên kho</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Địa chỉ</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Thành phố</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Tỉnh/Thành</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Số điện thoại</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Email</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Trạng thái</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Ngày tạo</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" data-v-d1edf380>Thao tác</th></tr></thead><tbody class="bg-white divide-y divide-gray-200" data-v-d1edf380>\x3c!--[--\x3e'),i(d(B),t=>{e(`<tr data-v-d1edf380><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-d1edf380>${o(t.id)}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900" data-v-d1edf380>${o(t.name)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-d1edf380>${o(t.address)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-d1edf380>${o(t.city)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-d1edf380>${o(t.province)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-d1edf380>${o(t.phone)}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-d1edf380>${o(t.email)}</td><td class="px-6 py-4 whitespace-nowrap" data-v-d1edf380><span class="${l([H(t.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])}" data-v-d1edf380>${o(function(t){return f("basic_status",t)||t||"Không xác định"}(t.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" data-v-d1edf380>${o(d(g)(t.created_at))}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium" data-v-d1edf380>`),e(n(h,{item:t,onEdit:F,onDelete:L},null,s)),e("</td></tr>")}),e("\x3c!--]--\x3e"),0===d(B).length?e('<tr data-v-d1edf380><td colspan="10" class="px-6 py-4 text-center text-gray-500" data-v-d1edf380> Không có dữ liệu </td></tr>'):e("\x3c!----\x3e"),e("</tbody></table>")),e("</div>"),d(B).length>0?(e(`<div class="mt-4 flex justify-between items-center" data-v-d1edf380><div class="text-sm text-gray-700" data-v-d1edf380> Hiển thị ${o(d(T).from||0)} đến ${o(d(T).to||0)} trên tổng số ${o(d(T).total||0)} bản ghi </div><div class="flex space-x-1" data-v-d1edf380>\x3c!--[--\x3e`),i(d(T).links,t=>{e(`<button${p(!t.url)?" disabled":""} class="${l(["px-3 py-1 border rounded",t.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50",!t.url&&"opacity-50 cursor-not-allowed"])}" data-v-d1edf380>${t.label??""}</button>`)}),e("\x3c!--]--\x3e</div></div>")):e("\x3c!----\x3e"),X.value?e(n(d(y),{show:X.value,"on-close":b,onCreated:A},null,s)):e("\x3c!----\x3e"),q.value?e(n(d(w),{show:q.value,warehouse:E.value,"on-close":$,onUpdated:U},null,s)):e("\x3c!----\x3e"),N.value?e(n(m,{show:N.value,title:"Xác nhận xóa",message:`Bạn có chắc chắn muốn xóa kho hàng ${E.value?.name||""}?`,"on-close":k,onConfirm:j},null,s)):e("\x3c!----\x3e"),e("</div>")}}},_=w.setup;w.setup=(t,e)=>{const a=s();return(a.modules||(a.modules=new Set)).add("pages/admin/Warehouses/index.vue"),_?_(t,e):void 0};const B=y(w,[["__scopeId","data-v-d1edf380"]]);export{B as default};
