import{ssrRenderAttrs as e,ssrRenderComponent as r}from"vue/server-renderer";import o from"./form-Doj0aLz9.mjs";import{p as t}from"./endpoints-B4pxijLT.mjs";import{ref as s,reactive as a,watch as n,useSSRContext as m}from"vue";import{s as i}from"./apiClient-CZcLLw7q.mjs";import"./Modal-CcMmmM3q.mjs";import"./_plugin-vue_export-helper-DlAUqK2U.mjs";import"./FormWrapper-BkWXOK5b.mjs";import"./FormField-C25kxm9c.mjs";import"axios";const p={__name:"create",__ssrInlineRender:!0,props:{show:Boolean,products:{type:Array,default:()=>[]},warehouses:{type:Array,default:()=>[]},onClose:Function},emits:["created"],setup(m,{emit:p}){const c=m,d=p,l=s(!1),v=a({});async function u(e){try{Object.keys(v).forEach(e=>delete v[e]),await i.post(t.inventory.create,e),d("created"),c.onClose()}catch(e){if(422===e.response?.status&&e.response?.data?.errors){const r=e.response.data.errors;for(const e in r)Array.isArray(r[e])?v[e]=r[e][0]:v[e]=r[e]}}}function f(){c.onClose&&c.onClose()}return n(()=>c.show,e=>{l.value=e,e&&Object.keys(v).forEach(e=>delete v[e])},{immediate:!0}),(t,s,a,n)=>{s(`<div${e(n)}>`),l.value?s(r(o,{show:l.value,"api-errors":v,products:m.products,warehouses:m.warehouses,onSubmit:u,onCancel:f},null,a)):s("\x3c!----\x3e"),s("</div>")}}},c=p.setup;p.setup=(e,r)=>{const o=m();return(o.modules||(o.modules=new Set)).add("pages/admin/Inventory/create.vue"),c?c(e,r):void 0};export{p as default};
